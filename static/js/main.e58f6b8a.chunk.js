(this["webpackJsonpgrapher-web"]=this["webpackJsonpgrapher-web"]||[]).push([[0],{112:function(e){e.exports=JSON.parse('{"cognito":{"REGION":"eu-central-1","USER_POOL_ID":"eu-central-1_4R5STFv4s","APP_CLIENT_ID":"4kcgmiun7hak72nlruqpu5936d"}}')},221:function(e,t,a){e.exports=a(315)},309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),i=a(59),l=a(22),u=a(16),s=a(9),p=a(381),m=a(389),d=a(388),f=a(40),E=a.n(f),h=a(404),b=a(80),g=a(29),O=a.n(g),j=a(90),v=a(198),y=a(188),N=a(112),k=Object(n.createContext)(),_=function(){return Object(n.useContext)(k)},D=function(e){var t=e.children;y.default.configure({Auth:{mandatorySignIn:!0,region:N.cognito.REGION,userPoolId:N.cognito.USER_POOL_ID,userPoolWebClientId:N.cognito.APP_CLIENT_ID}});var a=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(u.g)();Object(n.useEffect)((function(){var e=localStorage.getItem("loggedUser");e&&r(JSON.parse(e))}),[]);return{user:a,signIn:function(){var e=Object(j.a)(O.a.mark((function e(t,a){var n,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.signIn(t,a);case 3:n=e.sent,r(n),localStorage.setItem("loggedUser",JSON.stringify(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c=e.t0;case 11:return e.abrupt("return",new Promise((function(e,t){c&&t(c),e(n)})));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),signUp:function(){var e=Object(j.a)(O.a.mark((function e(t,a,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.a.signUp({username:t,password:a,attributes:{name:n}}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),getSession:function(){return v.a.currentSession()},logOut:function(){var e=Object(j.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{localStorage.removeItem("loggedUser"),r(null),v.a.signOut().then((function(){return c.push("signin")}))}catch(t){console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),isAuthenticated:function(){return!!a||!!localStorage.getItem("loggedUser")},changePassword:function(){var e=Object(j.a)(O.a.mark((function e(t,a){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.currentAuthenticatedUser();case 2:return n=e.sent,e.abrupt("return",v.a.changePassword(n,t,a));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}}();return r.a.createElement(k.Provider,{value:a},t)};D.defaultProps={children:[]};var C=Object(p.a)({wrapper:{flexGrow:1,width:"60%",margin:"0 auto",display:"flex",justifyContent:"center",flexDirection:"column",padding:"3rem"},header:{fontWeight:700,letterSpacing:"1.5px"},errorWrapper:{minHeight:"1.5rem"},successMessage:{color:"#4caf50"},hidden:{visibility:"hidden"},form:{display:"flex",flexDirection:"column",maxWidth:"25rem",marginTop:"1rem"},input:{marginBottom:"1.5rem"},buttonWrapper:{display:"flex",justifyContent:"flex-end"}}),w=function(e){return function(t){var a=t.target.value;e(a)}},S=function(){var e=C(),t=_(),a=t.isAuthenticated,c=t.changePassword,o=Object(n.useState)(""),i=Object(s.a)(o,2),l=i[0],p=i[1],f=Object(n.useState)(""),g=Object(s.a)(f,2),O=g[0],j=g[1],v=Object(n.useState)(""),y=Object(s.a)(v,2),N=y[0],k=y[1],D=Object(n.useState)(""),S=Object(s.a)(D,2),L=S[0],I=S[1],A=Object(n.useState)(""),P=Object(s.a)(A,2),x=P[0],T=P[1],R=function(){p(""),j(""),k("")};return a()?r.a.createElement("div",{className:e.wrapper},r.a.createElement(b.a,{className:e.header,variant:"h4",component:"h1",color:"textPrimary"},"Change password"),r.a.createElement("div",{className:e.errorWrapper},L?r.a.createElement(b.a,{variant:"body1",component:"p",color:"error"},L):r.a.createElement(b.a,{className:e.successMessage,variant:"body1",component:"p"},x)),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),L&&I(""),O===N?c(l,O).then((function(){R(),T("Your password has been changed successfully")})).catch((function(e){R(),I(e.message)})):I("Passwords do not match")}},r.a.createElement(h.a,{className:e.input,label:"CURRENT PASSWORD",type:"password",value:l,onChange:w(p),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(E.a,null))},required:!0}),r.a.createElement(h.a,{className:e.input,label:"NEW PASSWORD",type:"password",value:O,onChange:w(j),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(E.a,null))},required:!0}),r.a.createElement(h.a,{className:e.input,label:"CONFIRM NEW PASSWORD",type:"password",value:N,onChange:w(k),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(E.a,null))},required:!0}),r.a.createElement("div",{className:e.buttonWrapper},r.a.createElement(m.a,{type:"submit",variant:"contained",color:"primary"},"Change password")))):r.a.createElement(u.a,{to:"workspace"})},L=Object(p.a)({wrapper:{flexGrow:1,width:"60%",margin:"0 auto",display:"flex",justifyContent:"center",flexDirection:"column",padding:"3rem"},header:{fontWeight:700,letterSpacing:"1.5px",marginBottom:"1.5rem"},link:{color:"blue"}}),I=function(){var e=L();return(0,_().isAuthenticated)()?r.a.createElement("div",{className:e.wrapper},r.a.createElement(b.a,{className:e.header,variant:"h4",component:"h1",color:"textPrimary"},"Your account has been created."),r.a.createElement(b.a,{variant:"body1",component:"p",color:"textPrimary"},"Thank you so much for joining Grapher. To finish signing up, you just need to confirm you email address.")):r.a.createElement(u.a,{to:"workspace"})},A=a(110),P=a.n(A),x=a(390),T=a(194),R=a.n(T),W=a(392),G=a(199),U=a(193),F=a.n(U),B=a(393),J=a(391),M=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"#fff"},button:{color:"#fff"},link:{color:"inherit"},paragraph:{marginRight:"1.5rem"}}})),Y=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),i=Object(s.a)(o,2),u=i[0],p=i[1],d=_(),f=d.logOut,E=d.user,h=M(),g=Boolean(u);Object(n.useEffect)((function(){if(E){var e=E.attributes.name;c(e)}}),[E]);var O=function(){p(null)};return r.a.createElement(x.a,{position:"relative"},r.a.createElement(J.a,null,r.a.createElement(W.a,{edge:"start",className:h.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(F.a,null)),r.a.createElement(l.b,{className:h.title,to:"/workspace"},r.a.createElement(b.a,{align:"center",variant:"h6"},"Grapher",r.a.createElement(R.a,{style:{marginLeft:"5px"}}))),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:h.paragraph,variant:"body2"},"You are logged in as ",r.a.createElement("strong",null,a)),r.a.createElement("div",null,r.a.createElement(W.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){p(e.currentTarget)},color:"inherit"},r.a.createElement(P.a,null)),r.a.createElement(G.a,{id:"menu-appbar",anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:O},r.a.createElement(B.a,{onClick:O},r.a.createElement(l.b,{className:h.link,to:"/change-password"},"Change password")),r.a.createElement(B.a,{onClick:function(){c(""),O(),f()}},"Logout")))):r.a.createElement(l.b,{className:h.button,to:"/signin"},r.a.createElement(m.a,{color:"inherit"},"Login"))))},X=a(111),H=a.n(X),K=Object(p.a)({wrapper:{flexGrow:1,width:"60%",margin:"0 auto",display:"flex",justifyContent:"center",flexDirection:"column",padding:"3rem"},header:{fontWeight:700,letterSpacing:"1.5px"},errorWrapper:{minHeight:"1.5rem"},hidden:{visibility:"hidden"},form:{display:"flex",flexDirection:"column",maxWidth:"25rem",marginTop:"1rem"},input:{marginBottom:"1.5rem"},buttonWrapper:{display:"flex",justifyContent:"flex-end"}}),q=function(e){return function(t){var a=t.target.value;e(a)}},z=function(){var e=K(),t=_(),a=t.signUp,c=t.isAuthenticated,o=Object(u.g)(),i=Object(n.useState)(""),l=Object(s.a)(i,2),p=l[0],f=l[1],g=Object(n.useState)(""),O=Object(s.a)(g,2),j=O[0],v=O[1],y=Object(n.useState)(""),N=Object(s.a)(y,2),k=N[0],D=N[1],C=Object(n.useState)(""),w=Object(s.a)(C,2),S=w[0],L=w[1],I=Object(n.useState)(""),A=Object(s.a)(I,2),x=A[0],T=A[1];return c()?r.a.createElement(u.a,{to:"workspace"}):r.a.createElement("div",{className:e.wrapper},r.a.createElement(b.a,{className:e.header,variant:"h4",component:"h1",color:"textPrimary"},"Sign up"),r.a.createElement("div",{className:e.errorWrapper},r.a.createElement(b.a,{variant:"body1",component:"p",color:"error"},x)),r.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),x&&T(""),k===S?a(j,k,p).then((function(){return o.push("confirm-email")})).catch((function(e){return T(e.message)})):T("Passwords do not match")}},r.a.createElement(h.a,{className:e.input,label:"USER NAME",value:p,onChange:q(f),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(P.a,null))},required:!0}),r.a.createElement(h.a,{className:e.input,label:"E-MAIL",type:"email",value:j,onChange:q(v),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(H.a,null))},required:!0}),r.a.createElement(h.a,{className:e.input,label:"PASSWORD",type:"password",value:k,onChange:q(D),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(E.a,null))},required:!0}),r.a.createElement(h.a,{className:e.input,label:"CONFIRM PASSWORD",type:"password",value:S,onChange:q(L),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(E.a,null))},required:!0}),r.a.createElement("div",{className:e.buttonWrapper},r.a.createElement(m.a,{type:"submit",variant:"contained",color:"primary"},"Sign Up"))))},V=function(e){var t=e.children,a=e.exact,n=e.path,c=e.strict,o=_().isAuthenticated;return r.a.createElement(u.b,{exact:a,path:n,render:function(){return o()?r.a.createElement(r.a.Fragment,null,t):r.a.createElement(u.a,{to:"/signin"})},strict:c})};V.defaultProps={children:[],exact:!1,strict:!1};var Z=V,$=Object(p.a)({wrapper:{flexGrow:1,width:"60%",margin:"0 auto",display:"flex",justifyContent:"center",flexDirection:"column",padding:"3rem"},header:{fontWeight:700,letterSpacing:"1.5px"},errorWrapper:{minHeight:"1.5rem"},hidden:{visibility:"hidden"},form:{display:"flex",flexDirection:"column",maxWidth:"25rem",marginTop:"1rem",marginBottom:"1rem"},input:{marginBottom:"1.5rem"},buttonWrapper:{display:"flex",justifyContent:"flex-end"}}),Q=function(){var e=_(),t=e.signIn,a=e.isAuthenticated,c=$(),o=Object(n.useState)(""),i=Object(s.a)(o,2),p=i[0],f=i[1],g=Object(n.useState)(""),O=Object(s.a)(g,2),j=O[0],v=O[1],y=Object(n.useState)(""),N=Object(s.a)(y,2),k=N[0],D=N[1],C=function(e){return function(t){var a=t.target.value;e(a)}};return a()?r.a.createElement(u.a,{to:"workspace"}):r.a.createElement("div",{className:c.wrapper},r.a.createElement(b.a,{className:c.header,variant:"h4",component:"h1",color:"textPrimary"},"Sign up"),r.a.createElement("div",{className:c.errorWrapper},r.a.createElement(b.a,{className:!k&&c.hidden,variant:"body1",component:"p",color:"error"},k)),r.a.createElement("form",{className:c.form,onSubmit:function(e){e.preventDefault(),t(p,j).catch((function(e){return D(e.message)}))}},r.a.createElement(h.a,{className:c.input,label:"E-MAIL",type:"email",value:p,onChange:C(f),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(H.a,null))},required:!0}),r.a.createElement(h.a,{className:c.input,label:"PASSWORD",type:"password",value:j,onChange:C(v),InputProps:{startAdornment:r.a.createElement(d.a,{position:"start"},r.a.createElement(E.a,null))},required:!0}),r.a.createElement("div",{className:c.buttonWrapper},r.a.createElement(m.a,{type:"submit",variant:"contained",color:"primary"},"Sign In"))),r.a.createElement(b.a,{variant:"subtitle1",component:"p"},"Don't you have account? You can ",r.a.createElement(l.b,{to:"/signup"},"Sign Up"),"."))},ee=a(4),te=a(37),ae=a(405),ne=a(398),re=a(406),ce=a(401),oe=a(400),ie=a(399),le=a(397),ue=a(407),se=a(402),pe=a(34),me=function(e){var t=Object(i.c)();return Object.entries(e).reduce((function(e,a){var n=Object(s.a)(a,2),r=n[0],c=n[1];return Object(ee.a)(Object(ee.a)({},e),{},Object(pe.a)({},r,(function(){return t(c.apply(void 0,arguments))})))}),{})},de=["INPUT","TEXTAREA"],fe=function(e,t){switch(t.type){case"set-key-down":return Object(ee.a)(Object(ee.a)({},e),{},Object(pe.a)({},t.key,!0));case"set-key-up":return Object(ee.a)(Object(ee.a)({},e),{},Object(pe.a)({},t.key,!1));default:return e}},Ee=function(e,t){if(!Array.isArray(e)||!e.length)throw new Error("The first parameter to `useKeyboardShortcut` must be an array containing at least one `KeyboardEvent.key` string.");if(!t||"function"!==typeof t)throw new Error("The second parameter to `useKeyboardShortcut` must be a function that will be invoked when the keys are pressed.");var a=e.reduce((function(e,t){return Object(ee.a)(Object(ee.a)({},e),{},Object(pe.a)({},t,!1))}),{}),r=Object(n.useReducer)(fe,a),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(n.useCallback)((function(t){var a=t.key,n=t.target;t.repeat||de.includes(n.tagName)||e.includes(a)&&(o[a]||i({type:"set-key-down",key:a}))}),[e,o]),u=Object(n.useCallback)((function(t){var a=t.key,n=t.target;de.includes(n.tagName)||e.includes(a)&&o[a]&&i({type:"set-key-up",key:a})}),[e,o]);Object(n.useEffect)((function(){return window.addEventListener("keydown",l,!0),function(){return window.removeEventListener("keydown",l,!0)}}),[l]),Object(n.useEffect)((function(){return window.addEventListener("keyup",u,!0),function(){return window.removeEventListener("keyup",u,!0)}}),[u]),Object(n.useEffect)((function(){Object.values(o).filter((function(e){return!e})).length||t(o)}),[t,o])},he=a(91),be=a.n(he),ge=function(e,t,a){var n=be.a.post(e,a);return function(e){return e({type:"".concat(t,"_PENDING")}),n.then((function(a){var n=a.data;e({type:"".concat(t,"_FULFILLED"),payload:n})})).catch((function(a){e({type:"".concat(t,"_REJECTED"),payload:a.message})}))}},Oe=function(e,t,a){var n=be.a.delete(e,Object(ee.a)(Object(ee.a)({},{}),a&&Object.keys(a).length>0?{data:a}:{}));return function(e){return e({type:"".concat(t,"_PENDING"),payload:a}),n.then((function(a){var n=a.data;e({type:"".concat(t,"_FULFILLED"),payload:n})})).catch((function(a){e({type:"".concat(t,"_REJECTED"),payload:a.message})}))}},je="https://grapher-app.herokuapp.com/graphs/nodes",ve="https://grapher-app.herokuapp.com/graphs/links",ye=function(){return function(e,t){var a=be.a.get(e,{});return function(e){return e({type:"".concat(t,"_PENDING")}),a.then((function(a){var n=a.data;e({type:"".concat(t,"_FULFILLED"),payload:n})})).catch((function(a){e({type:"".concat(t,"_REJECTED"),payload:a.message})}))}}("https://grapher-app.herokuapp.com/graphs?space=20","FETCH_GRAPH_DATA")},Ne=function(e){return ge(je,"CREATE_NODE",e)},ke=function(e){return function(e,t,a){var n=be.a.put(e,a);return function(e){return e({type:"".concat(t,"_PENDING")}),n.then((function(a){var n=a.data;e({type:"".concat(t,"_PENDING"),payload:n})})).catch((function(a){e({type:"".concat(t,"_REJECTED"),payload:a.message})}))}}("".concat(je,"/").concat(e.id),"UPDATE_NODE",e)},_e=function(e){return Oe("".concat(je,"/").concat(e),"DELETE_NODE")},De=function(e){return ge(ve,"ADD_LINK",e)},Ce=function(e){return Oe("".concat(ve,"/").concat(e),"DELETE_LINK")},we=a(195),Se=function(e){var t=e.selectedGraph,a=e.graphConfig,n=e.onRightClickNode,c=e.onRightClickLink;return r.a.createElement(we.Graph,{id:"graph",className:"Workspace__Graph",data:t,config:a,onRightClickNode:n,onRightClickLink:c})};Se.defaultProps={selectedGraph:{nodes:[],edges:[]},graphConfig:{labelProperty:"name"}};var Le=Se,Ie=a(387),Ae=a(318),Pe=a(396),xe=a(395),Te=(a(309),function(e){var t=e.orphans,a=e.handleOpenDialog,n=e.onRightClickNode;return r.a.createElement("div",{className:"Orphanage"},r.a.createElement("div",{className:"Orphanage__actions"},r.a.createElement(m.a,{className:"Orphanage__button",onClick:a,color:"primary",variant:"contained",size:"large"},"Add node")),r.a.createElement("div",{className:"Orphanage__wrapper"},r.a.createElement(b.a,{className:"Orphanage__title",variant:"h6",noWrap:!0},"Orphanage"),r.a.createElement(xe.a,{className:"Orphanage__divider"}),r.a.createElement(Ie.a,null,(t||[]).map((function(e){var t=e.id,a=e.name;return r.a.createElement("div",{key:t,onContextMenu:function(e){return n(e,t)}},r.a.createElement(Ae.a,{button:!0},r.a.createElement(Pe.a,{primary:a})))})))))});Te.defaultProps={orphans:[]};var Re=Te,We=(a(310),{automaticRearrangeAfterDropNode:!0,minZoom:1,node:{labelProperty:"name",color:"#d3d3d3",fontColor:"black",fontSize:8,fontWeight:"normal",highlightColor:"SAME",highlightFontSize:8,highlightFontWeight:"normal",highlightStrokeColor:"SAME",highlightStrokeWidth:"SAME",mouseCursor:"pointer",opacity:1,size:500,strokeColor:"none",strokeWidth:1.5,symbolType:"circle"}}),Ge={mouseX:null,mouseY:null},Ue=function(){var e=me({getGraphData:ye,createNode:Ne,updateNode:ke,deleteNode:_e,addLink:De,deleteLink:Ce}),t=e.getGraphData,a=e.createNode,c=e.updateNode,o=e.deleteNode,l=e.addLink,u=e.deleteLink,p=Object(i.d)((function(e){var t=e.workspaceReducer;return{selectedGraph:t.selectedGraph,orphans:t.orphans,nodesByIds:t.nodesByIds,fetching:t.fetching}}),i.b),d=p.selectedGraph,f=p.orphans,E=p.nodesByIds,g=p.fetching,O=Object(n.useState)(!1),j=Object(s.a)(O,2),v=j[0],y=j[1],N=Object(n.useState)(!1),k=Object(s.a)(N,2),_=k[0],D=k[1],C=Object(n.useState)(!1),w=Object(s.a)(C,2),S=w[0],L=w[1],I=Object(n.useState)(!1),A=Object(s.a)(I,2),P=A[0],x=A[1],T=Object(n.useState)(""),R=Object(s.a)(T,2),W=R[0],U=R[1],F=Object(n.useState)(""),J=Object(s.a)(F,2),M=J[0],Y=J[1],X=Object(n.useState)(""),H=Object(s.a)(X,2),K=H[0],q=H[1],z=Object(n.useState)(Ge),V=Object(s.a)(z,2),Z=V[0],$=V[1],Q=Object(n.useState)(Ge),pe=Object(s.a)(Q,2),de=pe[0],fe=pe[1],he=Object(n.useState)(null),be=Object(s.a)(he,2),ge=be[0],Oe=be[1],je=Object(n.useState)(null),ve=Object(s.a)(je,2),we=ve[0],Se=ve[1],Ie=d||{},Ae=Ie.nodes,Pe=void 0===Ae?[]:Ae,xe=Ie.links,Te=void 0===xe?[]:xe,Ue=Object(n.useCallback)(t,[]);Object(n.useEffect)((function(){Ue()}),[Ue]);var Fe=function(){return y(!0)},Be=function(){y(!1),Y("")},Je=function(){D(!1),Y(""),Oe(null)},Me=function(){L(!1),q(""),Oe(null)},Ye=function(){$(Ge),x(!0)},Xe=function(){x(!1),Oe(""),Se(""),U("")};Ee(["Shift","N"],(function(){v||Fe()}));var He,Ke,qe=function(e){e.preventDefault();var t=e.target.value;Y(t)},ze=function(e,t){e.preventDefault(),Oe(t),$({mouseX:e.clientX,mouseY:e.clientY})},Ve=document.getElementById("Workspace__Graph-wrapper");return r.a.createElement(le.a,{container:!0,className:"Workspace",spacing:0},r.a.createElement(le.a,{item:!0,xs:9},r.a.createElement(ne.a,{id:"Workspace__Graph-wrapper",className:"Workspace__Graph-wrapper",fixed:!0},d&&Ve&&r.a.createElement(Le,{selectedGraph:d,graphConfig:Object(ee.a)(Object(ee.a)({},We),{},{width:Ve.offsetWidth,height:Ve.offsetHeight}),onRightClickNode:ze,onRightClickLink:function(e,t,a){e.preventDefault();var n=Te.find((function(e){return e.source===t&&e.target===a})),r=n.id,c=n.target,o=n.source;Se(r),Oe(o),U(c),fe({mouseX:e.clientX,mouseY:e.clientY})}})),r.a.createElement(re.a,{open:P,onClose:Xe,"aria-labelledby":"form-dialog-title"},r.a.createElement(ie.a,{id:"form-dialog-title"},we?"Delete link":"Create new link"),r.a.createElement(oe.a,null,r.a.createElement(ue.a,{id:"Workspace__source-node-select"},"Source node: "),r.a.createElement(se.a,{labelId:"Workspace__source-node-select",className:"Workspace__add-link-select",value:ge,disabled:!0},[].concat(Object(te.a)(Pe),Object(te.a)(f||[])).map((function(e){var t=e.id,a=e.name;return r.a.createElement(B.a,{key:t,value:t},a)}))),r.a.createElement(ue.a,{id:"Workspace__target-node-select"},"Target node: "),r.a.createElement(se.a,{className:"Workspace__add-link-select",labelId:"Workspace__target-node-select",value:W,onChange:function(e){var t=e.target.value;U(t)},disabled:!!we},(He=Pe,Ke=ge,He.filter((function(e){return e.id!==Ke}))).map((function(e){var t=e.id,a=e.name;return r.a.createElement(B.a,{key:t,value:t},a)})))),r.a.createElement(ce.a,null,we?r.a.createElement(m.a,{onClick:function(){u(we).then((function(){Ue(),Xe()}))},color:"primary",disabled:g.deleteLink},"Confirm"):r.a.createElement(m.a,{onClick:function(){var e=Object(ae.a)();l({id:e,source:ge,target:W,properties:{space:"20",type:"API"}}).then((function(){Ue(),Xe()}))},color:"primary",disabled:!W||g.addLink},"Add link"),r.a.createElement(m.a,{onClick:Xe},"Cancel"))),r.a.createElement(re.a,{open:v,onClose:Be,"aria-labelledby":"form-dialog-title"},r.a.createElement(ie.a,{id:"form-dialog-title"},"Create new node"),r.a.createElement(oe.a,null,r.a.createElement(h.a,{margin:"dense",id:"name",label:"Node name",fullWidth:!0,onChange:qe})),r.a.createElement(ce.a,null,r.a.createElement(m.a,{onClick:function(){a({properties:{name:M,space:"20"}}).then((function(){Ue(),Y(""),Be()}))},color:"primary",disabled:!M||g.createNode},"Add node"),r.a.createElement(m.a,{onClick:Be},"Cancel"))),r.a.createElement(re.a,{open:_,onClose:Be,"aria-labelledby":"form-dialog-title"},r.a.createElement(ie.a,{id:"form-dialog-title"},"Edit node"),r.a.createElement(oe.a,null,r.a.createElement(h.a,{margin:"dense",id:"name",label:"Node name",value:M,fullWidth:!0,onChange:qe})),r.a.createElement(ce.a,null,r.a.createElement(m.a,{onClick:function(){var e=d.nodes,t=[].concat(Object(te.a)(e),Object(te.a)(f)).find((function(e){return e.id===ge})),a=t.id,n=t.properties,r={id:a,properties:Object(ee.a)(Object(ee.a)({},n),{},{name:M})};c(r).then((function(){Ue(),Je()}))},color:"primary",disabled:!M||g.updateNode},"Update"),r.a.createElement(m.a,{onClick:Je},"Cancel"))),r.a.createElement(re.a,{open:S,onClose:Me,"aria-labelledby":"form-dialog-title"},r.a.createElement(ie.a,{id:"form-dialog-title"},"Delete node"),r.a.createElement(oe.a,null,r.a.createElement(b.a,{variant:"body1"},"Do you want to delete node ",r.a.createElement("strong",null,K),"?")),r.a.createElement(ce.a,null,r.a.createElement(m.a,{onClick:function(){o(ge).then((function(){Ue(),Me()}))},color:"primary"},"Delete"),r.a.createElement(m.a,{onClick:Me},"Cancel")))),r.a.createElement(le.a,{className:"Workspace__Graph-wrapper",item:!0,xs:3},r.a.createElement(Re,{orphans:f,handleOpenDialog:Fe,onRightClickNode:ze})),r.a.createElement(G.a,{keepMounted:!0,open:null!==Z.mouseY,onClose:function(){$(Ge),Oe(null)},anchorReference:"anchorPosition",anchorPosition:null!==Z.mouseY&&null!==Z.mouseX?{top:Z.mouseY,left:Z.mouseX}:void 0},r.a.createElement(B.a,{onClick:Ye},"Add Link"),r.a.createElement(B.a,{onClick:function(){var e=E[ge].name;$(Ge),Y(e),D(!0)}},"Edit node"),r.a.createElement(B.a,{onClick:function(){var e=d.nodes,t=[].concat(Object(te.a)(e),Object(te.a)(f)).find((function(e){return e.id===ge})).name;q(t),$(Ge),L(!0)}},"Delete node")),r.a.createElement(G.a,{keepMounted:!0,open:null!==de.mouseY,onClose:function(){fe(Ge),Se(null)},anchorReference:"anchorPosition",anchorPosition:null!==de.mouseY&&null!==de.mouseX?{top:de.mouseY,left:de.mouseX}:void 0},r.a.createElement(B.a,{onClick:function(){fe(Ge),Ye()}},"Delete Link")))};a(311);var Fe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Y,null),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/signup",component:z}),r.a.createElement(u.b,{exact:!0,path:"/signin",component:Q}),r.a.createElement(u.b,{exact:!0,path:"/confirm-email",component:I}),r.a.createElement(Z,{exact:!0,path:"/change-password"},r.a.createElement(S,null)),r.a.createElement(Z,{path:"/workspace"},r.a.createElement(Ue,null)),r.a.createElement(Z,{path:"/"},r.a.createElement(Ue,null))))},Be=a(48),Je=a(197),Me=a(200),Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(ee.a)(Object(ee.a)({},e),{},{name:e.properties.name})}))},Xe={fetching:{selectedGraph:!1,createNode:!1,updateNode:!1,deleteNode:!1,addLink:!1,deleteLink:!1},selectedGraph:null,orphans:null,displayedGraph:null,nodesByIds:null},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"".concat("FETCH_GRAPH_DATA","_PENDING"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{selectedGraph:!0})});case"".concat("FETCH_GRAPH_DATA","_FULFILLED"):var a=t.payload,n=a.orphans,r=Object(Me.a)(a,["orphans"]),c=r.nodes,o=Ye(c),i=Ye(n),l=Object(ee.a)(Object(ee.a)({},r),{},{nodes:o,focusedNodeId:""}),u=[].concat(Object(te.a)(o),Object(te.a)(i)).reduce((function(e,t){return Object(ee.a)(Object(ee.a)({},e),{},Object(pe.a)({},t.id,Object(ee.a)({},t)))}),{});return Object(ee.a)(Object(ee.a)({},e),{},{selectedGraph:l,orphans:i,nodesByIds:u,fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{selectedGraph:!1})});case"".concat("FETCH_GRAPH_DATA","_REJECTED"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{selectedGraph:!1})});case"".concat("CREATE_NODE","_PENDING"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{createNode:!0})});case"".concat("CREATE_NODE","_FULFILLED"):case"".concat("CREATE_NODE","_REJECTED"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{createNode:!1})});case"".concat("UPDATE_NODE","_PENDING"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{updateNode:!0})});case"".concat("UPDATE_NODE","_FULFILLED"):case"".concat("UPDATE_NODE","_REJECTED"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{updateNode:!1})});case"".concat("DELETE_NODE","_PENDING"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{deleteNode:!0})});case"".concat("DELETE_NODE","_FULFILLED"):case"".concat("DELETE_NODE","_REJECTED"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{deleteNode:!1})});case"".concat("ADD_LINK","_PENDING"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{addLink:!0})});case"".concat("ADD_LINK","_FULFILLED"):case"".concat("ADD_LINK","_REJECTED"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{addLink:!1})});case"".concat("DELETE_LINK","_PENDING"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{deleteLink:!0})});case"".concat("DELETE_LINK","_FULFILLED"):case"".concat("DELETE_LINK","_REJECTED"):return Object(ee.a)(Object(ee.a)({},e),{},{fetching:Object(ee.a)(Object(ee.a)({},e.fetching),{},{deleteLink:!1})});default:return e}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type,e},qe=Object(Be.c)({appReducer:Ke,workspaceReducer:He}),ze=Object(Be.e)(qe,Object(Be.d)(Object(Be.a)(Je.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(312);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,null,r.a.createElement(D,null,r.a.createElement(i.a,{store:ze},r.a.createElement(Fe,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[221,1,2]]]);
//# sourceMappingURL=main.e58f6b8a.chunk.js.map