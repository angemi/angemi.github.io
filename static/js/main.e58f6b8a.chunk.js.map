{"version":3,"sources":["hooks/useAuth.js","routes/ChangePassword/ChangePassword.js","routes/ConfirmEmailPage/ConfirmEmailPage.js","components/NavBar/NavBar.js","routes/Register/Register.js","components/SecuredRoute/SecuredRoute.js","routes/SignIn/SignIn.js","hooks/useDispatchedActions.js","hooks/useKeyboardShortcut.js","services/api/utils.js","routes/Workspace/actions.js","routes/Workspace/constants.js","routes/Workspace/components/Graph/Graph.js","routes/Workspace/components/Orphanage/Orphanage.js","routes/Workspace/Workspace.js","routes/App/App.js","helpers/formatNodes.js","routes/Workspace/reducer.js","store/app/reducer.js","store/reducers.js","store/store.js","serviceWorker.js","index.js"],"names":["authContext","createContext","useAuth","useContext","AuthProvider","children","Amplify","configure","Auth","mandatorySignIn","region","config","cognito","REGION","userPoolId","USER_POOL_ID","userPoolWebClientId","APP_CLIENT_ID","auth","useState","loggedUser","setLoggedUser","history","useHistory","useEffect","user","localStorage","getItem","JSON","parse","signIn","username","password","a","setItem","stringify","error","Promise","resolve","reject","signUp","email","userName","attributes","name","getSession","currentSession","logOut","removeItem","signOut","then","push","err","console","isAuthenticated","changePassword","newPassword","currentAuthenticatedUser","useProvideAuth","Provider","value","defaultProps","useStyles","makeStyles","wrapper","flexGrow","width","margin","display","justifyContent","flexDirection","padding","header","fontWeight","letterSpacing","errorWrapper","minHeight","successMessage","color","hidden","visibility","form","maxWidth","marginTop","input","marginBottom","buttonWrapper","handleChangeUserProperty","fn","event","target","Register","classes","setPassword","setNewPassword","confirmPassword","setConfirmPassword","setError","confirmMessage","setConfirmMessage","clearPasswordValues","className","Typography","variant","component","onSubmit","e","preventDefault","catch","message","TextField","label","type","onChange","InputProps","startAdornment","InputAdornment","position","required","Button","to","link","ConfirmEmailPage","theme","root","menuButton","marginRight","spacing","title","button","paragraph","NavBar","setUserName","anchorEl","setAnchorEl","open","Boolean","onCloseMenu","AppBar","Toolbar","IconButton","edge","aria-label","align","style","marginLeft","aria-controls","aria-haspopup","onClick","currentTarget","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","setEmail","SecuredRoute","exact","path","strict","render","SignIn","useDispatchedActions","actions","dispatch","useDispatch","Object","entries","reduce","acc","key","action","blacklistedTargets","keysReducer","state","useKeyboardShortcut","shortcutKeys","callback","Array","isArray","length","Error","initialKeyMapping","currentKeys","useReducer","keys","setKeys","keydownListener","useCallback","keydownEvent","repeat","includes","tagName","keyupListener","keyupEvent","window","addEventListener","removeEventListener","values","filter","postApiElements","url","actionName","newObject","request","axios","post","data","payload","deleteApiElement","requestBodyPayload","delete","ADD_NODE_URL","ADD_LINK_URL","getGraphData","get","getApiElements","createNode","newNode","updateNode","updatedNode","updatedObject","put","putApiElement","deleteNode","addLink","newLink","deleteLink","GraphWorkspace","selectedGraph","graphConfig","onRightClickNode","onRightClickLink","nodes","edges","labelProperty","Orphanage","orphans","handleOpenDialog","size","noWrap","Divider","List","map","onContextMenu","ListItem","ListItemText","primary","automaticRearrangeAfterDropNode","minZoom","node","fontColor","fontSize","highlightColor","highlightFontSize","highlightFontWeight","highlightStrokeColor","highlightStrokeWidth","mouseCursor","opacity","strokeColor","strokeWidth","symbolType","contextMenuInitialState","mouseX","mouseY","Workspace","getGraphDataAction","createNodeAction","updateNodeAction","deleteNodeAction","addLinkAction","deleteLinkAction","useSelector","workspaceReducer","nodesByIds","fetching","shallowEqual","isDialogOpen","setDialogOpen","isEditDialogOpen","setEditDialogOpen","isDeleteDialogOpen","setDeleteDialogOpen","isLinkDialogOpen","setLinkDialogOpen","targetNodeId","setTargetNodeId","newNodeName","setNewNodeName","nodeToDeleteName","setNodeToDeleteName","contextMenu","setContextMenu","linkContextMenu","setLinkContextMenu","focusedNodeId","setFocusedNodeId","focusedLinkId","setFocusedLinkId","graphNodes","links","fetchGraphData","handleCloseDialog","handleCloseEditDialog","handleCloseDeleteDialog","handleOpenAddLinkDialog","handleCloseLinkDialog","selectedNodeId","onChangeNodeName","clientX","clientY","graphWrapper","document","getElementById","Grid","container","item","xs","Container","fixed","Graph","offsetWidth","height","offsetHeight","sourceId","targetId","find","source","Dialog","aria-labelledby","DialogTitle","DialogContent","InputLabel","Select","labelId","disabled","DialogActions","uuid","properties","space","fullWidth","anchorReference","anchorPosition","top","left","undefined","editedNodeName","App","ChangePassword","formatNodes","initialState","displayedGraph","rawOrphans","graphData","rawNodes","appReducer","reducer","combineReducers","store","createStore","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","f","location","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e58f6b8a.chunk.js","sourcesContent":["import React, { useState, useContext, createContext, useEffect } from 'react';\nimport Amplify, { Auth } from 'aws-amplify';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport config from '../static/config.json';\n\nconst authContext = createContext();\n\nexport const useAuth = () => {\n  return useContext(authContext);\n};\n\nconst useProvideAuth = () => {\n  const [loggedUser, setLoggedUser] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    const user = localStorage.getItem('loggedUser');\n    if (user) {\n      setLoggedUser(JSON.parse(user));\n    }\n  }, []);\n\n  const signIn = async (username, password) => {\n    let user;\n    let error;\n    try {\n      user = await Auth.signIn(username, password);\n      setLoggedUser(user);\n      localStorage.setItem('loggedUser', JSON.stringify(user));\n    } catch (err) {\n      error = err;\n    }\n    return new Promise((resolve, reject) => {\n      if (error) {\n        reject(error);\n      }\n      resolve(user);\n    });\n  };\n\n  const signUp = async (email, password, userName) =>\n    Auth.signUp({ username: email, password, attributes: { name: userName } });\n\n  const getSession = () => Auth.currentSession();\n\n  const logOut = async () => {\n    try {\n      localStorage.removeItem('loggedUser');\n      setLoggedUser(null);\n      Auth.signOut().then(() => history.push('signin'));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const changePassword = async (password, newPassword) => {\n    const user = await Auth.currentAuthenticatedUser();\n    return Auth.changePassword(user, password, newPassword);\n  };\n\n  const isAuthenticated = () => !!loggedUser || !!localStorage.getItem('loggedUser');\n\n  return {\n    user: loggedUser,\n    signIn,\n    signUp,\n    getSession,\n    logOut,\n    isAuthenticated,\n    changePassword,\n  };\n};\n\nexport const AuthProvider = ({ children }) => {\n  Amplify.configure({\n    Auth: {\n      mandatorySignIn: true,\n      region: config.cognito.REGION,\n      userPoolId: config.cognito.USER_POOL_ID,\n      userPoolWebClientId: config.cognito.APP_CLIENT_ID,\n    },\n  });\n  const auth = useProvideAuth();\n\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n};\n\nAuthProvider.defaultProps = {\n  children: [],\n};\n\nAuthProvider.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n};\n","import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport LockIcon from '@material-ui/icons/Lock';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useAuth } from '../../hooks/useAuth';\n\nconst useStyles = makeStyles({\n  wrapper: {\n    flexGrow: 1,\n    width: '60%',\n    margin: '0 auto',\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    padding: '3rem',\n  },\n  header: {\n    fontWeight: 700,\n    letterSpacing: '1.5px',\n  },\n  errorWrapper: {\n    minHeight: '1.5rem',\n  },\n  successMessage: {\n    color: '#4caf50',\n  },\n  hidden: {\n    visibility: 'hidden',\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: '25rem',\n    marginTop: '1rem',\n  },\n  input: {\n    marginBottom: '1.5rem',\n  },\n  buttonWrapper: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n});\n\nconst handleChangeUserProperty = fn => event => {\n  const {\n    target: { value },\n  } = event;\n  fn(value);\n};\n\nconst Register = () => {\n  const classes = useStyles();\n  const { isAuthenticated, changePassword } = useAuth();\n\n  const [password, setPassword] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n  const [confirmMessage, setConfirmMessage] = useState('');\n\n  const clearPasswordValues = () => {\n    setPassword('');\n    setNewPassword('');\n    setConfirmPassword('');\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (error) setError('');\n    if (newPassword === confirmPassword) {\n      changePassword(password, newPassword)\n        .then(() => {\n          clearPasswordValues();\n          setConfirmMessage('Your password has been changed successfully');\n        })\n        .catch(err => {\n          clearPasswordValues();\n          setError(err.message);\n        });\n    } else {\n      setError('Passwords do not match');\n    }\n  };\n\n  if (!isAuthenticated()) {\n    return <Redirect to=\"workspace\" />;\n  }\n\n  return (\n    <div className={classes.wrapper}>\n      <Typography className={classes.header} variant=\"h4\" component=\"h1\" color=\"textPrimary\">\n        Change password\n      </Typography>\n      <div className={classes.errorWrapper}>\n        {error ? (\n          <Typography variant=\"body1\" component=\"p\" color=\"error\">\n            {error}\n          </Typography>\n        ) : (\n          <Typography className={classes.successMessage} variant=\"body1\" component=\"p\">\n            {confirmMessage}\n          </Typography>\n        )}\n      </div>\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <TextField\n          className={classes.input}\n          label=\"CURRENT PASSWORD\"\n          type=\"password\"\n          value={password}\n          onChange={handleChangeUserProperty(setPassword)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <LockIcon />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <TextField\n          className={classes.input}\n          label=\"NEW PASSWORD\"\n          type=\"password\"\n          value={newPassword}\n          onChange={handleChangeUserProperty(setNewPassword)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <LockIcon />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <TextField\n          className={classes.input}\n          label=\"CONFIRM NEW PASSWORD\"\n          type=\"password\"\n          value={confirmPassword}\n          onChange={handleChangeUserProperty(setConfirmPassword)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <LockIcon />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <div className={classes.buttonWrapper}>\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n            Change password\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useAuth } from 'hooks/useAuth';\n\nconst useStyles = makeStyles({\n  wrapper: {\n    flexGrow: 1,\n    width: '60%',\n    margin: '0 auto',\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    padding: '3rem',\n  },\n  header: {\n    fontWeight: 700,\n    letterSpacing: '1.5px',\n    marginBottom: '1.5rem',\n  },\n  link: {\n    color: 'blue',\n  },\n});\n\nconst ConfirmEmailPage = () => {\n  const classes = useStyles();\n  const { isAuthenticated } = useAuth();\n\n  if (!isAuthenticated()) {\n    return <Redirect to=\"workspace\" />;\n  }\n\n  return (\n    <div className={classes.wrapper}>\n      <Typography className={classes.header} variant=\"h4\" component=\"h1\" color=\"textPrimary\">\n        Your account has been created.\n      </Typography>\n      <Typography variant=\"body1\" component=\"p\" color=\"textPrimary\">\n        Thank you so much for joining Grapher. To finish signing up, you just need to confirm you\n        email address.\n      </Typography>\n    </div>\n  );\n};\n\nexport default ConfirmEmailPage;\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport AppBar from '@material-ui/core/AppBar';\nimport BubbleChart from '@material-ui/icons/BubbleChart';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useAuth } from '../../hooks/useAuth';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    color: '#fff',\n  },\n  button: {\n    color: '#fff',\n  },\n  link: {\n    color: 'inherit',\n  },\n  paragraph: {\n    marginRight: '1.5rem',\n  },\n}));\n\nconst NavBar = () => {\n  const [userName, setUserName] = useState('');\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { logOut, user } = useAuth();\n  const classes = useStyles();\n  const open = Boolean(anchorEl);\n\n  useEffect(() => {\n    if (user) {\n      const {\n        attributes: { name },\n      } = user;\n      setUserName(name);\n    }\n  }, [user]);\n\n  const onOpenMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const onCloseMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const onLogOut = () => {\n    setUserName('');\n    onCloseMenu();\n    logOut();\n  };\n\n  return (\n    <AppBar position=\"relative\">\n      <Toolbar>\n        <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n          <MenuIcon />\n        </IconButton>\n        <Link className={classes.title} to=\"/workspace\">\n          <Typography align=\"center\" variant=\"h6\">\n            Grapher\n            <BubbleChart style={{ marginLeft: '5px' }} />\n          </Typography>\n        </Link>\n\n        {userName ? (\n          <>\n            <Typography className={classes.paragraph} variant=\"body2\">\n              You are logged in as <strong>{userName}</strong>\n            </Typography>\n            <div>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={onOpenMenu}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                open={open}\n                onClose={onCloseMenu}\n              >\n                <MenuItem onClick={onCloseMenu}>\n                  <Link className={classes.link} to=\"/change-password\">\n                    Change password\n                  </Link>\n                </MenuItem>\n                <MenuItem onClick={onLogOut}>Logout</MenuItem>\n              </Menu>\n            </div>\n          </>\n        ) : (\n          <Link className={classes.button} to=\"/signin\">\n            <Button color=\"inherit\">Login</Button>\n          </Link>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default NavBar;\n","import React, { useState } from 'react';\nimport { useHistory, Redirect } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport LockIcon from '@material-ui/icons/Lock';\nimport MailIcon from '@material-ui/icons/Mail';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useAuth } from '../../hooks/useAuth';\n\nconst useStyles = makeStyles({\n  wrapper: {\n    flexGrow: 1,\n    width: '60%',\n    margin: '0 auto',\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    padding: '3rem',\n  },\n  header: {\n    fontWeight: 700,\n    letterSpacing: '1.5px',\n  },\n  errorWrapper: {\n    minHeight: '1.5rem',\n  },\n  hidden: {\n    visibility: 'hidden',\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: '25rem',\n    marginTop: '1rem',\n  },\n  input: {\n    marginBottom: '1.5rem',\n  },\n  buttonWrapper: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n});\n\nconst handleChangeUserProperty = fn => event => {\n  const {\n    target: { value },\n  } = event;\n  fn(value);\n};\n\nconst Register = () => {\n  const classes = useStyles();\n  const { signUp, isAuthenticated } = useAuth();\n  const history = useHistory();\n\n  const [userName, setUserName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (error) setError('');\n    if (password === confirmPassword) {\n      signUp(email, password, userName)\n        .then(() => history.push('confirm-email'))\n        .catch(err => setError(err.message));\n    } else {\n      setError('Passwords do not match');\n    }\n  };\n\n  if (isAuthenticated()) {\n    return <Redirect to=\"workspace\" />;\n  }\n\n  return (\n    <div className={classes.wrapper}>\n      <Typography className={classes.header} variant=\"h4\" component=\"h1\" color=\"textPrimary\">\n        Sign up\n      </Typography>\n      <div className={classes.errorWrapper}>\n        <Typography variant=\"body1\" component=\"p\" color=\"error\">\n          {error}\n        </Typography>\n      </div>\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <TextField\n          className={classes.input}\n          label=\"USER NAME\"\n          value={userName}\n          onChange={handleChangeUserProperty(setUserName)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <AccountCircle />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <TextField\n          className={classes.input}\n          label=\"E-MAIL\"\n          type=\"email\"\n          value={email}\n          onChange={handleChangeUserProperty(setEmail)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <MailIcon />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <TextField\n          className={classes.input}\n          label=\"PASSWORD\"\n          type=\"password\"\n          value={password}\n          onChange={handleChangeUserProperty(setPassword)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <LockIcon />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <TextField\n          className={classes.input}\n          label=\"CONFIRM PASSWORD\"\n          type=\"password\"\n          value={confirmPassword}\n          onChange={handleChangeUserProperty(setConfirmPassword)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <LockIcon />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <div className={classes.buttonWrapper}>\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n            Sign Up\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { useAuth } from '../../hooks/useAuth';\n\nconst SecuredRoute = ({ children, exact, path, strict }) => {\n  const { isAuthenticated } = useAuth();\n\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={() => (isAuthenticated() ? <>{children}</> : <Redirect to=\"/signin\" />)}\n      strict={strict}\n    />\n  );\n};\n\nSecuredRoute.defaultProps = {\n  children: [],\n  exact: false,\n  strict: false,\n};\n\nSecuredRoute.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n  exact: PropTypes.bool,\n  path: PropTypes.string.isRequired,\n  strict: PropTypes.bool,\n};\n\nexport default SecuredRoute;\n","import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport LockIcon from '@material-ui/icons/Lock';\nimport MailIcon from '@material-ui/icons/Mail';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\n\nimport { useAuth } from '../../hooks/useAuth';\n\nconst useStyles = makeStyles({\n  wrapper: {\n    flexGrow: 1,\n    width: '60%',\n    margin: '0 auto',\n    display: 'flex',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    padding: '3rem',\n  },\n  header: {\n    fontWeight: 700,\n    letterSpacing: '1.5px',\n  },\n  errorWrapper: {\n    minHeight: '1.5rem',\n  },\n  hidden: {\n    visibility: 'hidden',\n  },\n  form: {\n    display: 'flex',\n    flexDirection: 'column',\n    maxWidth: '25rem',\n    marginTop: '1rem',\n    marginBottom: '1rem',\n  },\n  input: {\n    marginBottom: '1.5rem',\n  },\n  buttonWrapper: {\n    display: 'flex',\n    justifyContent: 'flex-end',\n  },\n});\n\nconst SignIn = () => {\n  const { signIn, isAuthenticated } = useAuth();\n  const classes = useStyles();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  const handleChangeUserProperty = fn => event => {\n    const {\n      target: { value },\n    } = event;\n    fn(value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    signIn(email, password).catch(err => setError(err.message));\n  };\n\n  if (isAuthenticated()) {\n    return <Redirect to=\"workspace\" />;\n  }\n\n  return (\n    <div className={classes.wrapper}>\n      <Typography className={classes.header} variant=\"h4\" component=\"h1\" color=\"textPrimary\">\n        Sign up\n      </Typography>\n      <div className={classes.errorWrapper}>\n        <Typography\n          className={!error && classes.hidden}\n          variant=\"body1\"\n          component=\"p\"\n          color=\"error\"\n        >\n          {error}\n        </Typography>\n      </div>\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <TextField\n          className={classes.input}\n          label=\"E-MAIL\"\n          type=\"email\"\n          value={email}\n          onChange={handleChangeUserProperty(setEmail)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <MailIcon />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <TextField\n          className={classes.input}\n          label=\"PASSWORD\"\n          type=\"password\"\n          value={password}\n          onChange={handleChangeUserProperty(setPassword)}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <LockIcon />\n              </InputAdornment>\n            ),\n          }}\n          required\n        />\n        <div className={classes.buttonWrapper}>\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n            Sign In\n          </Button>\n        </div>\n      </form>\n      <Typography variant=\"subtitle1\" component=\"p\">\n        Don&#39;t you have account? You can <Link to=\"/signup\">Sign Up</Link>.\n      </Typography>\n    </div>\n  );\n};\n\nexport default SignIn;\n","import { useDispatch } from 'react-redux';\n\nconst useDispatchedActions = actions => {\n  const dispatch = useDispatch();\n  return Object.entries(actions).reduce(\n    (acc, [key, action]) => ({\n      ...acc,\n      [key]: (...args) => dispatch(action(...args)),\n    }),\n    {}\n  );\n};\n\nexport default useDispatchedActions;\n","import { useEffect, useReducer, useCallback } from 'react';\n\nconst blacklistedTargets = ['INPUT', 'TEXTAREA'];\n\nconst keysReducer = (state, action) => {\n  switch (action.type) {\n    case 'set-key-down':\n      return { ...state, [action.key]: true };\n    case 'set-key-up':\n      return { ...state, [action.key]: false };\n    default:\n      return state;\n  }\n};\n\nconst useKeyboardShortcut = (shortcutKeys, callback) => {\n  if (!Array.isArray(shortcutKeys) || !shortcutKeys.length) {\n    throw new Error(\n      'The first parameter to `useKeyboardShortcut` must be an array containing at least one `KeyboardEvent.key` string.'\n    );\n  }\n  if (!callback || typeof callback !== 'function') {\n    throw new Error(\n      'The second parameter to `useKeyboardShortcut` must be a function that will be invoked when the keys are pressed.'\n    );\n  }\n\n  const initialKeyMapping = shortcutKeys.reduce(\n    (currentKeys, key) => ({\n      ...currentKeys,\n      [key]: false,\n    }),\n    {}\n  );\n\n  const [keys, setKeys] = useReducer(keysReducer, initialKeyMapping);\n\n  const keydownListener = useCallback(\n    keydownEvent => {\n      const { key, target, repeat } = keydownEvent;\n      if (repeat) return;\n      if (blacklistedTargets.includes(target.tagName)) return;\n      if (!shortcutKeys.includes(key)) return;\n\n      if (!keys[key]) {\n        setKeys({ type: 'set-key-down', key });\n      }\n    },\n    [shortcutKeys, keys]\n  );\n\n  const keyupListener = useCallback(\n    keyupEvent => {\n      const { key, target } = keyupEvent;\n      if (blacklistedTargets.includes(target.tagName)) return;\n      if (!shortcutKeys.includes(key)) return;\n\n      if (keys[key]) {\n        setKeys({ type: 'set-key-up', key });\n      }\n    },\n    [shortcutKeys, keys]\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', keydownListener, true);\n\n    return () => window.removeEventListener('keydown', keydownListener, true);\n  }, [keydownListener]);\n\n  useEffect(() => {\n    window.addEventListener('keyup', keyupListener, true);\n\n    return () => window.removeEventListener('keyup', keyupListener, true);\n  }, [keyupListener]);\n\n  useEffect(() => {\n    if (!Object.values(keys).filter(value => !value).length) callback(keys);\n  }, [callback, keys]);\n};\n\nexport default useKeyboardShortcut;\n","import axios from 'axios';\n\nexport const getApiElements = (url, actionName) => {\n  const headers = {};\n  const request = axios.get(url, headers);\n\n  return dispatch => {\n    dispatch({\n      type: `${actionName}_PENDING`,\n    });\n    return request\n      .then(({ data }) => {\n        dispatch({\n          type: `${actionName}_FULFILLED`,\n          payload: data,\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: `${actionName}_REJECTED`,\n          payload: error.message,\n        });\n      });\n  };\n};\n\nexport const postApiElements = (url, actionName, newObject) => {\n  const request = axios.post(url, newObject);\n  return dispatch => {\n    dispatch({ type: `${actionName}_PENDING` });\n\n    return request\n      .then(({ data }) => {\n        dispatch({\n          type: `${actionName}_FULFILLED`,\n          payload: data,\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: `${actionName}_REJECTED`,\n          payload: error.message,\n        });\n      });\n  };\n};\n\nexport const putApiElement = (url, actionName, updatedObject) => {\n  const request = axios.put(url, updatedObject);\n\n  return dispatch => {\n    dispatch({ type: `${actionName}_PENDING` });\n\n    return request\n      .then(({ data }) => {\n        dispatch({\n          type: `${actionName}_PENDING`,\n          payload: data,\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: `${actionName}_REJECTED`,\n          payload: error.message,\n        });\n      });\n  };\n};\n\nexport const deleteApiElement = (url, actionName, requestBodyPayload) => {\n  const headers = {};\n  const request = axios.delete(url, {\n    ...headers,\n    ...(requestBodyPayload && Object.keys(requestBodyPayload).length > 0\n      ? { data: requestBodyPayload }\n      : {}),\n  });\n\n  return dispatch => {\n    dispatch({\n      type: `${actionName}_PENDING`,\n      payload: requestBodyPayload,\n    });\n\n    return request\n      .then(({ data }) => {\n        dispatch({\n          type: `${actionName}_FULFILLED`,\n          payload: data,\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: `${actionName}_REJECTED`,\n          payload: error.message,\n        });\n      });\n  };\n};\n","import {\n  getApiElements,\n  postApiElements,\n  putApiElement,\n  deleteApiElement,\n} from 'services/api/utils';\nimport {\n  FETCH_GRAPH_DATA,\n  CREATE_NODE,\n  UPDATE_NODE,\n  DELETE_NODE,\n  ADD_LINK,\n  DELETE_LINK,\n} from './constants';\n\nconst GET_GRAPH_URL = 'https://grapher-app.herokuapp.com/graphs?space=20';\nconst ADD_NODE_URL = 'https://grapher-app.herokuapp.com/graphs/nodes';\nconst ADD_LINK_URL = 'https://grapher-app.herokuapp.com/graphs/links';\nexport const getGraphData = () => getApiElements(GET_GRAPH_URL, FETCH_GRAPH_DATA);\n\nexport const createNode = newNode => postApiElements(ADD_NODE_URL, CREATE_NODE, newNode);\n\nexport const updateNode = updatedNode =>\n  putApiElement(`${ADD_NODE_URL}/${updatedNode.id}`, UPDATE_NODE, updatedNode);\n\nexport const deleteNode = id => deleteApiElement(`${ADD_NODE_URL}/${id}`, DELETE_NODE);\n\nexport const addLink = newLink => postApiElements(ADD_LINK_URL, ADD_LINK, newLink);\n\nexport const deleteLink = id => deleteApiElement(`${ADD_LINK_URL}/${id}`, DELETE_LINK);\n","export const FETCH_GRAPH_DATA = 'FETCH_GRAPH_DATA';\nexport const CREATE_NODE = 'CREATE_NODE';\nexport const UPDATE_NODE = 'UPDATE_NODE';\nexport const DELETE_NODE = 'DELETE_NODE';\nexport const ADD_LINK = 'ADD_LINK';\nexport const DELETE_LINK = 'DELETE_LINK';\n\nexport const TEMPORARY_SPACE_VALUE = '20';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Graph } from 'react-d3-graph';\n\nconst GraphWorkspace = ({ selectedGraph, graphConfig, onRightClickNode, onRightClickLink }) => {\n  return (\n    <Graph\n      id=\"graph\"\n      className=\"Workspace__Graph\"\n      data={selectedGraph}\n      config={graphConfig}\n      onRightClickNode={onRightClickNode}\n      onRightClickLink={onRightClickLink}\n    />\n  );\n};\n\nGraphWorkspace.defaultProps = {\n  selectedGraph: {\n    nodes: [],\n    edges: [],\n  },\n  graphConfig: {\n    labelProperty: 'name',\n  },\n};\n\nGraphWorkspace.propTypes = {\n  selectedGraph: PropTypes.shape({\n    nodes: PropTypes.array,\n    edges: PropTypes.array,\n  }),\n  graphConfig: PropTypes.shape({\n    labelProperty: PropTypes.string,\n  }),\n  onRightClickNode: PropTypes.func.isRequired,\n  onRightClickLink: PropTypes.func.isRequired,\n};\n\nexport default GraphWorkspace;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\n\nimport './Orphanage.scss';\n\nconst Orphanage = ({ orphans, handleOpenDialog, onRightClickNode }) => {\n  return (\n    <div className=\"Orphanage\">\n      <div className=\"Orphanage__actions\">\n        <Button\n          className=\"Orphanage__button\"\n          onClick={handleOpenDialog}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n        >\n          Add node\n        </Button>\n      </div>\n      <div className=\"Orphanage__wrapper\">\n        <Typography className=\"Orphanage__title\" variant=\"h6\" noWrap>\n          Orphanage\n        </Typography>\n        <Divider className=\"Orphanage__divider\" />\n        <List>\n          {(orphans || []).map(({ id, name }) => (\n            <div key={id} onContextMenu={event => onRightClickNode(event, id)}>\n              <ListItem button>\n                <ListItemText primary={name} />\n              </ListItem>\n            </div>\n          ))}\n        </List>\n      </div>\n    </div>\n  );\n};\n\nOrphanage.defaultProps = {\n  orphans: [],\n};\n\nOrphanage.propTypes = {\n  orphans: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      properties: PropTypes.shape({\n        name: PropTypes.string,\n        space: PropTypes.string,\n      }),\n    })\n  ),\n  handleOpenDialog: PropTypes.func.isRequired,\n  onRightClickNode: PropTypes.func.isRequired,\n};\n\nexport default Orphanage;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { v4 as uuid } from 'uuid';\n\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport { Typography } from '@material-ui/core';\nimport Select from '@material-ui/core/Select';\n\nimport { useDispatchedActions, useKeyboardShortcut } from 'hooks';\nimport {\n  getGraphData as getGraphDataAction,\n  createNode as createNodeAction,\n  updateNode as updateNodeAction,\n  deleteNode as deleteNodeAction,\n  addLink as addLinkAction,\n  deleteLink as deleteLinkAction,\n} from './actions';\nimport { TEMPORARY_SPACE_VALUE } from './constants';\n\nimport Graph from './components/Graph';\nimport Orphanage from './components/Orphanage';\n\nimport './Workspace.scss';\n\nconst graphConfig = {\n  automaticRearrangeAfterDropNode: true,\n  minZoom: 1,\n  node: {\n    labelProperty: 'name',\n    color: '#d3d3d3',\n    fontColor: 'black',\n    fontSize: 8,\n    fontWeight: 'normal',\n    highlightColor: 'SAME',\n    highlightFontSize: 8,\n    highlightFontWeight: 'normal',\n    highlightStrokeColor: 'SAME',\n    highlightStrokeWidth: 'SAME',\n    mouseCursor: 'pointer',\n    opacity: 1,\n    size: 500,\n    strokeColor: 'none',\n    strokeWidth: 1.5,\n    symbolType: 'circle',\n  },\n};\n\nconst contextMenuInitialState = { mouseX: null, mouseY: null };\n\nconst Workspace = () => {\n  const {\n    getGraphData,\n    createNode,\n    updateNode,\n    deleteNode,\n    addLink,\n    deleteLink,\n  } = useDispatchedActions({\n    getGraphData: getGraphDataAction,\n    createNode: createNodeAction,\n    updateNode: updateNodeAction,\n    deleteNode: deleteNodeAction,\n    addLink: addLinkAction,\n    deleteLink: deleteLinkAction,\n  });\n  const { selectedGraph, orphans, nodesByIds, fetching } = useSelector(\n    ({ workspaceReducer }) => ({\n      selectedGraph: workspaceReducer.selectedGraph,\n      orphans: workspaceReducer.orphans,\n      nodesByIds: workspaceReducer.nodesByIds,\n      fetching: workspaceReducer.fetching,\n    }),\n    shallowEqual\n  );\n  const [isDialogOpen, setDialogOpen] = useState(false);\n  const [isEditDialogOpen, setEditDialogOpen] = useState(false);\n  const [isDeleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [isLinkDialogOpen, setLinkDialogOpen] = useState(false);\n  const [targetNodeId, setTargetNodeId] = useState('');\n  const [newNodeName, setNewNodeName] = useState('');\n  const [nodeToDeleteName, setNodeToDeleteName] = useState('');\n  const [contextMenu, setContextMenu] = useState(contextMenuInitialState);\n  const [linkContextMenu, setLinkContextMenu] = useState(contextMenuInitialState);\n  const [focusedNodeId, setFocusedNodeId] = useState(null);\n  const [focusedLinkId, setFocusedLinkId] = useState(null);\n  const { nodes: graphNodes = [], links = [] } = selectedGraph || {};\n\n  const fetchGraphData = useCallback(getGraphData, []);\n\n  useEffect(() => {\n    fetchGraphData();\n  }, [fetchGraphData]);\n\n  const handleOpenDialog = () => setDialogOpen(true);\n\n  const handleOpenEditDialog = () => {\n    const editedNodeName = nodesByIds[focusedNodeId].name;\n    setContextMenu(contextMenuInitialState);\n    setNewNodeName(editedNodeName);\n    setEditDialogOpen(true);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    const { nodes } = selectedGraph;\n    const { name } = [...nodes, ...orphans].find(({ id }) => id === focusedNodeId);\n    setNodeToDeleteName(name);\n    setContextMenu(contextMenuInitialState);\n    setDeleteDialogOpen(true);\n  };\n\n  const handleCloseDialog = () => {\n    setDialogOpen(false);\n    setNewNodeName('');\n  };\n\n  const handleCloseEditDialog = () => {\n    setEditDialogOpen(false);\n    setNewNodeName('');\n    setFocusedNodeId(null);\n  };\n\n  const handleCloseDeleteDialog = () => {\n    setDeleteDialogOpen(false);\n    setNodeToDeleteName('');\n    setFocusedNodeId(null);\n  };\n\n  const handleOpenAddLinkDialog = () => {\n    setContextMenu(contextMenuInitialState);\n    setLinkDialogOpen(true);\n  };\n\n  const handleOpenDeleteLinkDialog = () => {\n    setLinkContextMenu(contextMenuInitialState);\n    handleOpenAddLinkDialog();\n  };\n\n  const handleCloseLinkDialog = () => {\n    setLinkDialogOpen(false);\n    setFocusedNodeId('');\n    setFocusedLinkId('');\n    setTargetNodeId('');\n  };\n\n  useKeyboardShortcut(['Shift', 'N'], () => {\n    if (!isDialogOpen) handleOpenDialog();\n  });\n\n  const onChangeNodeName = e => {\n    e.preventDefault();\n    const {\n      target: { value },\n    } = e;\n    setNewNodeName(value);\n  };\n\n  const handleAddNode = () => {\n    // const id = uuid();\n    const newNode = {\n      // id,\n      properties: {\n        name: newNodeName,\n        space: TEMPORARY_SPACE_VALUE,\n      },\n    };\n    createNode(newNode).then(() => {\n      fetchGraphData();\n      setNewNodeName('');\n      handleCloseDialog();\n    });\n  };\n\n  const handleChangeTargetNode = e => {\n    const {\n      target: { value },\n    } = e;\n    setTargetNodeId(value);\n  };\n\n  const handleAddLink = () => {\n    const id = uuid();\n    const newLink = {\n      id,\n      source: focusedNodeId,\n      target: targetNodeId,\n      properties: {\n        space: TEMPORARY_SPACE_VALUE,\n        type: 'API',\n      },\n    };\n    addLink(newLink).then(() => {\n      fetchGraphData();\n      handleCloseLinkDialog();\n    });\n  };\n\n  const handleDeleteLink = () => {\n    deleteLink(focusedLinkId).then(() => {\n      fetchGraphData();\n      handleCloseLinkDialog();\n    });\n  };\n\n  const handleUpdateNode = () => {\n    const { nodes } = selectedGraph;\n    const { id, properties } = [...nodes, ...orphans].find(\n      ({ id: nodeId }) => nodeId === focusedNodeId\n    );\n    const updatedNode = {\n      id,\n      properties: {\n        ...properties,\n        name: newNodeName,\n      },\n    };\n    updateNode(updatedNode).then(() => {\n      fetchGraphData();\n      handleCloseEditDialog();\n    });\n  };\n\n  const handleDeleteNode = () => {\n    deleteNode(focusedNodeId).then(() => {\n      fetchGraphData();\n      handleCloseDeleteDialog();\n    });\n  };\n\n  const onRightClickNode = (event, id) => {\n    event.preventDefault();\n    setFocusedNodeId(id);\n    setContextMenu({ mouseX: event.clientX, mouseY: event.clientY });\n  };\n\n  const onRightClickLink = (event, sourceId, targetId) => {\n    event.preventDefault();\n    const { id, target, source } = links.find(\n      link => link.source === sourceId && link.target === targetId\n    );\n    setFocusedLinkId(id);\n    setFocusedNodeId(source);\n    setTargetNodeId(target);\n    setLinkContextMenu({ mouseX: event.clientX, mouseY: event.clientY });\n  };\n\n  const handleCloseContextMenu = () => {\n    setContextMenu(contextMenuInitialState);\n    setFocusedNodeId(null);\n  };\n\n  const handleCloseLinkContextMenu = () => {\n    setLinkContextMenu(contextMenuInitialState);\n    setFocusedLinkId(null);\n  };\n\n  const getTargetNodes = (nodes, selectedNodeId) => {\n    return nodes.filter(node => node.id !== selectedNodeId);\n  };\n\n  const graphWrapper = document.getElementById('Workspace__Graph-wrapper');\n\n  return (\n    <Grid container className=\"Workspace\" spacing={0}>\n      <Grid item xs={9}>\n        <Container id=\"Workspace__Graph-wrapper\" className=\"Workspace__Graph-wrapper\" fixed>\n          {selectedGraph && graphWrapper && (\n            <Graph\n              selectedGraph={selectedGraph}\n              graphConfig={{\n                ...graphConfig,\n                width: graphWrapper.offsetWidth,\n                height: graphWrapper.offsetHeight,\n              }}\n              onRightClickNode={onRightClickNode}\n              onRightClickLink={onRightClickLink}\n            />\n          )}\n        </Container>\n        <Dialog\n          open={isLinkDialogOpen}\n          onClose={handleCloseLinkDialog}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">\n            {!focusedLinkId ? 'Create new link' : 'Delete link'}\n          </DialogTitle>\n          <DialogContent>\n            <InputLabel id=\"Workspace__source-node-select\">Source node: </InputLabel>\n            <Select\n              labelId=\"Workspace__source-node-select\"\n              className=\"Workspace__add-link-select\"\n              value={focusedNodeId}\n              disabled\n            >\n              {[...graphNodes, ...(orphans || [])].map(({ id, name }) => (\n                <MenuItem key={id} value={id}>\n                  {name}\n                </MenuItem>\n              ))}\n            </Select>\n            <InputLabel id=\"Workspace__target-node-select\">Target node: </InputLabel>\n            <Select\n              className=\"Workspace__add-link-select\"\n              labelId=\"Workspace__target-node-select\"\n              value={targetNodeId}\n              onChange={handleChangeTargetNode}\n              disabled={!!focusedLinkId}\n            >\n              {getTargetNodes(graphNodes, focusedNodeId).map(({ id, name }) => (\n                <MenuItem key={id} value={id}>\n                  {name}\n                </MenuItem>\n              ))}\n            </Select>\n          </DialogContent>\n          <DialogActions>\n            {!focusedLinkId ? (\n              <Button\n                onClick={handleAddLink}\n                color=\"primary\"\n                disabled={!targetNodeId || fetching.addLink}\n              >\n                Add link\n              </Button>\n            ) : (\n              <Button onClick={handleDeleteLink} color=\"primary\" disabled={fetching.deleteLink}>\n                Confirm\n              </Button>\n            )}\n            <Button onClick={handleCloseLinkDialog}>Cancel</Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog open={isDialogOpen} onClose={handleCloseDialog} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">Create new node</DialogTitle>\n          <DialogContent>\n            <TextField\n              margin=\"dense\"\n              id=\"name\"\n              label=\"Node name\"\n              fullWidth\n              onChange={onChangeNodeName}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={handleAddNode}\n              color=\"primary\"\n              disabled={!newNodeName || fetching.createNode}\n            >\n              Add node\n            </Button>\n            <Button onClick={handleCloseDialog}>Cancel</Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog\n          open={isEditDialogOpen}\n          onClose={handleCloseDialog}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Edit node</DialogTitle>\n          <DialogContent>\n            <TextField\n              margin=\"dense\"\n              id=\"name\"\n              label=\"Node name\"\n              value={newNodeName}\n              fullWidth\n              onChange={onChangeNodeName}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={handleUpdateNode}\n              color=\"primary\"\n              disabled={!newNodeName || fetching.updateNode}\n            >\n              Update\n            </Button>\n            <Button onClick={handleCloseEditDialog}>Cancel</Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog\n          open={isDeleteDialogOpen}\n          onClose={handleCloseDeleteDialog}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Delete node</DialogTitle>\n          <DialogContent>\n            <Typography variant=\"body1\">\n              Do you want to delete node <strong>{nodeToDeleteName}</strong>?\n            </Typography>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleDeleteNode} color=\"primary\">\n              Delete\n            </Button>\n            <Button onClick={handleCloseDeleteDialog}>Cancel</Button>\n          </DialogActions>\n        </Dialog>\n      </Grid>\n      <Grid className=\"Workspace__Graph-wrapper\" item xs={3}>\n        <Orphanage\n          orphans={orphans}\n          handleOpenDialog={handleOpenDialog}\n          onRightClickNode={onRightClickNode}\n        />\n      </Grid>\n      <Menu\n        keepMounted\n        open={contextMenu.mouseY !== null}\n        onClose={handleCloseContextMenu}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={\n          contextMenu.mouseY !== null && contextMenu.mouseX !== null\n            ? { top: contextMenu.mouseY, left: contextMenu.mouseX }\n            : undefined\n        }\n      >\n        <MenuItem onClick={handleOpenAddLinkDialog}>Add Link</MenuItem>\n        <MenuItem onClick={handleOpenEditDialog}>Edit node</MenuItem>\n        <MenuItem onClick={handleOpenDeleteDialog}>Delete node</MenuItem>\n      </Menu>\n      <Menu\n        keepMounted\n        open={linkContextMenu.mouseY !== null}\n        onClose={handleCloseLinkContextMenu}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={\n          linkContextMenu.mouseY !== null && linkContextMenu.mouseX !== null\n            ? { top: linkContextMenu.mouseY, left: linkContextMenu.mouseX }\n            : undefined\n        }\n      >\n        <MenuItem onClick={handleOpenDeleteLinkDialog}>Delete Link</MenuItem>\n      </Menu>\n    </Grid>\n  );\n};\n\nexport default Workspace;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport ChangePassword from 'routes/ChangePassword';\nimport ConfirmEmailPage from 'routes/ConfirmEmailPage';\nimport NavBar from 'components/NavBar';\nimport Register from 'routes/Register';\nimport SecuredRoute from 'components/SecuredRoute';\nimport SignIn from 'routes/SignIn';\nimport Workspace from 'routes/Workspace';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <NavBar />\n      <Switch>\n        <Route exact path=\"/signup\" component={Register} />\n        <Route exact path=\"/signin\" component={SignIn} />\n        <Route exact path=\"/confirm-email\" component={ConfirmEmailPage} />\n        <SecuredRoute exact path=\"/change-password\">\n          <ChangePassword />\n        </SecuredRoute>\n        <SecuredRoute path=\"/workspace\">\n          <Workspace />\n        </SecuredRoute>\n        <SecuredRoute path=\"/\">\n          <Workspace />\n        </SecuredRoute>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const formatNodes = (nodes = []) => nodes.map(node => ({ ...node, name: node.properties.name }));\n\nexport default formatNodes;\n","import {\n  FETCH_GRAPH_DATA,\n  CREATE_NODE,\n  UPDATE_NODE,\n  DELETE_NODE,\n  ADD_LINK,\n  DELETE_LINK,\n} from './constants';\nimport { formatNodes } from '../../helpers';\n\nconst initialState = {\n  fetching: {\n    selectedGraph: false,\n    createNode: false,\n    updateNode: false,\n    deleteNode: false,\n    addLink: false,\n    deleteLink: false,\n  },\n  selectedGraph: null,\n  orphans: null,\n  displayedGraph: null,\n  nodesByIds: null,\n};\n\nconst workspaceReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case `${FETCH_GRAPH_DATA}_PENDING`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, selectedGraph: true },\n      };\n    case `${FETCH_GRAPH_DATA}_FULFILLED`: {\n      const { orphans: rawOrphans, ...graphData } = action.payload;\n      const { nodes: rawNodes } = graphData;\n      const nodes = formatNodes(rawNodes);\n      const orphans = formatNodes(rawOrphans);\n      const selectedGraph = {\n        ...graphData,\n        nodes,\n        focusedNodeId: '',\n      };\n      const nodesByIds = [...nodes, ...orphans].reduce(\n        (acc, node) => ({ ...acc, [node.id]: { ...node } }),\n        {}\n      );\n      return {\n        ...state,\n        selectedGraph,\n        orphans,\n        nodesByIds,\n        fetching: { ...state.fetching, selectedGraph: false },\n      };\n    }\n    case `${FETCH_GRAPH_DATA}_REJECTED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, selectedGraph: false },\n      };\n    case `${CREATE_NODE}_PENDING`:\n      return {\n        ...state,\n        fetching: {\n          ...state.fetching,\n          createNode: true,\n        },\n      };\n    case `${CREATE_NODE}_FULFILLED`:\n      return {\n        ...state,\n        fetching: {\n          ...state.fetching,\n          createNode: false,\n        },\n      };\n    case `${CREATE_NODE}_REJECTED`:\n      return {\n        ...state,\n        fetching: {\n          ...state.fetching,\n          createNode: false,\n        },\n      };\n    case `${UPDATE_NODE}_PENDING`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, updateNode: true },\n      };\n    case `${UPDATE_NODE}_FULFILLED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, updateNode: false },\n      };\n    case `${UPDATE_NODE}_REJECTED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, updateNode: false },\n      };\n    case `${DELETE_NODE}_PENDING`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteNode: true },\n      };\n    case `${DELETE_NODE}_FULFILLED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteNode: false },\n      };\n    case `${DELETE_NODE}_REJECTED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteNode: false },\n      };\n    case `${ADD_LINK}_PENDING`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, addLink: true },\n      };\n    case `${ADD_LINK}_FULFILLED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, addLink: false },\n      };\n    case `${ADD_LINK}_REJECTED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, addLink: false },\n      };\n    case `${DELETE_LINK}_PENDING`: {\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteLink: true },\n      };\n    }\n    case `${DELETE_LINK}_FULFILLED`: {\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteLink: false },\n      };\n    }\n    case `${DELETE_LINK}_REJECTED`: {\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteLink: false },\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default workspaceReducer;\n","const appReducer = (state = {}, action = {}) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport default appReducer;\n","import { combineReducers } from 'redux';\n\nimport workspaceReducer from 'routes/Workspace/reducer';\nimport appReducer from './app/reducer';\n\nconst reducer = combineReducers({ appReducer, workspaceReducer });\n\nexport default reducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport reducer from './reducers';\n\nconst store = createStore(\n  reducer,\n  compose(\n    applyMiddleware(thunk),\n    // eslint-disable-next-line no-underscore-dangle\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f\n  )\n);\n\nexport default store;\n","/* eslint-disable no-console */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { App } from './routes/App';\nimport { AuthProvider } from './hooks/useAuth';\nimport { store } from './store';\nimport * as serviceWorker from './serviceWorker';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <AuthProvider>\n        <Provider store={store}>\n          <App />\n        </Provider>\n      </AuthProvider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}