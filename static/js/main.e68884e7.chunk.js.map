{"version":3,"sources":["components/NavBar/NavBar.js","hooks/useDispatchedActions.js","hooks/useKeyboardShortcut.js","services/api/utils.js","routes/Workspace/actions.js","routes/Workspace/constants.js","routes/Workspace/components/Graph/Graph.js","routes/Workspace/components/Orphanage/Orphanage.js","routes/Workspace/Workspace.js","routes/App/App.js","helpers/formatNodes.js","routes/Workspace/reducer.js","store/app/reducer.js","store/reducers.js","store/store.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","NavBar","classes","AppBar","position","Toolbar","IconButton","edge","className","color","aria-label","Typography","align","variant","style","marginLeft","Button","useDispatchedActions","actions","dispatch","useDispatch","Object","entries","reduce","acc","key","action","blacklistedTargets","keysReducer","state","type","useKeyboardShortcut","shortcutKeys","callback","Array","isArray","length","Error","initialKeyMapping","currentKeys","useReducer","keys","setKeys","keydownListener","useCallback","keydownEvent","target","repeat","includes","tagName","keyupListener","keyupEvent","useEffect","window","addEventListener","removeEventListener","values","filter","value","postApiElements","url","actionName","newObject","request","axios","post","then","data","payload","catch","error","message","ADD_NODE_URL","getGraphData","get","getApiElements","createNode","newNode","updateNode","updatedNode","updatedObject","put","putApiElement","id","deleteNode","requestBodyPayload","delete","deleteApiElement","addLink","newLink","GraphWorkspace","selectedGraph","graphConfig","onRightClickNode","onRightClickLink","config","defaultProps","nodes","edges","labelProperty","Orphanage","orphans","handleOpenDialog","onClick","size","noWrap","Divider","List","map","name","onContextMenu","event","ListItem","button","ListItemText","primary","automaticRearrangeAfterDropNode","minZoom","node","fontColor","fontSize","fontWeight","highlightColor","highlightFontSize","highlightFontWeight","highlightStrokeColor","highlightStrokeWidth","mouseCursor","opacity","strokeColor","strokeWidth","symbolType","contextMenuInitialState","mouseX","mouseY","Workspace","getGraphDataAction","createNodeAction","updateNodeAction","deleteNodeAction","addLinkAction","useSelector","workspaceReducer","nodesByIds","fetching","shallowEqual","useState","isDialogOpen","setDialogOpen","isEditDialogOpen","setEditDialogOpen","isDeleteDialogOpen","setDeleteDialogOpen","isAddLinkDialogOpen","setAddLinkDialogOpen","targetNodeId","setTargetNodeId","newNodeName","setNewNodeName","nodeToDeleteName","setNodeToDeleteName","contextMenu","setContextMenu","linkContextMenu","setLinkContextMenu","focusedNodeId","setFocusedNodeId","focusedLinkId","setFocusedLinkId","graphNodes","fetchGraphData","handleCloseDialog","handleCloseEditDialog","handleCloseDeleteDialog","handleCloseAddLinkDialog","selectedNodeId","onChangeNodeName","e","preventDefault","clientX","clientY","Grid","container","item","xs","Container","fixed","Graph","width","document","getElementById","offsetWidth","height","offsetHeight","Dialog","open","onClose","aria-labelledby","DialogTitle","DialogContent","InputLabel","Select","labelId","disabled","MenuItem","onChange","DialogActions","uuid","source","properties","space","TextField","margin","label","fullWidth","find","keepMounted","anchorReference","anchorPosition","top","left","undefined","editedNodeName","console","log","App","formatNodes","initialState","displayedGraph","rawOrphans","graphData","rawNodes","appReducer","reducer","combineReducers","store","createStore","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","f","Boolean","location","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"6XAWMA,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAaJ,EAAMK,QAAQ,IAE7BC,MAAO,CACLJ,SAAU,OAsBCK,EAlBA,WACb,IAAMC,EAAUV,IAChB,OACE,kBAACW,EAAA,EAAD,CAAQC,SAAS,YACf,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYC,KAAK,QAAQC,UAAWN,EAAQL,WAAYY,MAAM,UAAUC,aAAW,QACjF,kBAAC,IAAD,OAEF,kBAACC,EAAA,EAAD,CAAYC,MAAM,SAASC,QAAQ,KAAKL,UAAWN,EAAQF,OAA3D,UAEE,kBAAC,IAAD,CAAac,MAAO,CAAEC,WAAY,UAEpC,kBAACC,EAAA,EAAD,CAAQP,MAAM,WAAd,Y,2ICtBOQ,EAXc,SAAAC,GAC3B,IAAMC,EAAWC,cACjB,OAAOC,OAAOC,QAAQJ,GAASK,QAC7B,SAACC,EAAD,0BAAOC,EAAP,KAAYC,EAAZ,wBAAC,eACIF,GADL,kBAEGC,GAAM,kBAAaN,EAASO,EAAM,WAAN,oBAE/B,KCPEC,EAAqB,CAAC,QAAS,YAE/BC,EAAc,SAACC,EAAOH,GAC1B,OAAQA,EAAOI,MACb,IAAK,eACH,OAAO,2BAAKD,GAAZ,kBAAoBH,EAAOD,KAAM,IACnC,IAAK,aACH,OAAO,2BAAKI,GAAZ,kBAAoBH,EAAOD,KAAM,IACnC,QACE,OAAOI,IAsEEE,EAlEa,SAACC,EAAcC,GACzC,IAAKC,MAAMC,QAAQH,KAAkBA,EAAaI,OAChD,MAAM,IAAIC,MACR,qHAGJ,IAAKJ,GAAgC,oBAAbA,EACtB,MAAM,IAAII,MACR,oHAIJ,IAAMC,EAAoBN,EAAaT,QACrC,SAACgB,EAAad,GAAd,mBAAC,eACIc,GADL,kBAEGd,GAAM,MAET,IAjBoD,EAoB9Be,qBAAWZ,EAAaU,GApBM,mBAoB/CG,EApB+C,KAoBzCC,EApByC,KAsBhDC,EAAkBC,uBACtB,SAAAC,GAAiB,IACPpB,EAAwBoB,EAAxBpB,IAAKqB,EAAmBD,EAAnBC,OAAmBD,EAAXE,QAEjBpB,EAAmBqB,SAASF,EAAOG,UAClCjB,EAAagB,SAASvB,KAEtBgB,EAAKhB,IACRiB,EAAQ,CAAEZ,KAAM,eAAgBL,WAGpC,CAACO,EAAcS,IAGXS,EAAgBN,uBACpB,SAAAO,GAAe,IACL1B,EAAgB0B,EAAhB1B,IAAKqB,EAAWK,EAAXL,OACTnB,EAAmBqB,SAASF,EAAOG,UAClCjB,EAAagB,SAASvB,IAEvBgB,EAAKhB,IACPiB,EAAQ,CAAEZ,KAAM,aAAcL,UAGlC,CAACO,EAAcS,IAGjBW,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,UAAWX,GAAiB,GAE7C,kBAAMU,OAAOE,oBAAoB,UAAWZ,GAAiB,MACnE,CAACA,IAEJS,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,QAASJ,GAAe,GAEzC,kBAAMG,OAAOE,oBAAoB,QAASL,GAAe,MAC/D,CAACA,IAEJE,qBAAU,WACH/B,OAAOmC,OAAOf,GAAMgB,QAAO,SAAAC,GAAK,OAAKA,KAAOtB,QAAQH,EAASQ,KACjE,CAACR,EAAUQ,K,iBCpDHkB,EAAkB,SAACC,EAAKC,EAAYC,GAC/C,IAAMC,EAAUC,IAAMC,KAAKL,EAAKE,GAChC,OAAO,SAAA3C,GAGL,OAFAA,EAAS,CAAEW,KAAK,GAAD,OAAK+B,EAAL,cAERE,EACJG,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPhD,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,cACJO,QAASD,OAGZE,OAAM,SAAAC,GACLnD,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,aACJO,QAASE,EAAMC,eChCnBC,EAAe,iDAERC,EAAe,kBDTE,SAACb,EAAKC,GAClC,IACME,EAAUC,IAAMU,IAAId,EADV,IAGhB,OAAO,SAAAzC,GAIL,OAHAA,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,cAECE,EACJG,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPhD,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,cACJO,QAASD,OAGZE,OAAM,SAAAC,GACLnD,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,aACJO,QAASE,EAAMC,cCTSI,CAHZ,oDCRU,qBDanBC,EAAa,SAAAC,GAAO,OAAIlB,EAAgBa,ECZ1B,cDYqDK,IAEnEC,EAAa,SAAAC,GAAW,ODgCR,SAACnB,EAAKC,EAAYmB,GAC7C,IAAMjB,EAAUC,IAAMiB,IAAIrB,EAAKoB,GAE/B,OAAO,SAAA7D,GAGL,OAFAA,EAAS,CAAEW,KAAK,GAAD,OAAK+B,EAAL,cAERE,EACJG,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPhD,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,YACJO,QAASD,OAGZE,OAAM,SAAAC,GACLnD,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,aACJO,QAASE,EAAMC,cC/CvBW,CAAc,GAAD,OAAIV,EAAJ,YAAoBO,EAAYI,ICdpB,cDcuCJ,IAErDK,EAAa,SAAAD,GAAE,ODmDI,SAACvB,EAAKC,EAAYwB,GAChD,IACMtB,EAAUC,IAAMsB,OAAO1B,EAAb,2BADA,IAGVyB,GAAsBhE,OAAOoB,KAAK4C,GAAoBjD,OAAS,EAC/D,CAAE+B,KAAMkB,GACR,KAGN,OAAO,SAAAlE,GAML,OALAA,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,YACJO,QAASiB,IAGJtB,EACJG,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPhD,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,cACJO,QAASD,OAGZE,OAAM,SAAAC,GACLnD,EAAS,CACPW,KAAK,GAAD,OAAK+B,EAAL,aACJO,QAASE,EAAMC,cC5EOgB,CAAiB,GAAD,OAAIf,EAAJ,YAAoBW,GCfzC,gBDiBdK,EAAU,SAAAC,GAAO,OAAI9B,EAVb,iDCNG,WDgBkD8B,I,SEhBpEC,EAAiB,SAAC,GAAwE,IAAtEC,EAAqE,EAArEA,cAAeC,EAAsD,EAAtDA,YAAaC,EAAyC,EAAzCA,iBAAkBC,EAAuB,EAAvBA,iBACtE,OACE,kBAAC,QAAD,CACEX,GAAG,QACH3E,UAAU,mBACV2D,KAAMwB,EACNI,OAAQH,EACRC,iBAAkBA,EAClBC,iBAAkBA,KAKxBJ,EAAeM,aAAe,CAC5BL,cAAe,CACbM,MAAO,GACPC,MAAO,IAETN,YAAa,CACXO,cAAe,SAgBJT,Q,sCC1BTU,I,OAAY,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,QAASC,EAAyC,EAAzCA,iBAAkBT,EAAuB,EAAvBA,iBAC9C,OACE,yBAAKrF,UAAU,aACb,yBAAKA,UAAU,sBACb,kBAACQ,EAAA,EAAD,CACER,UAAU,oBACV+F,QAASD,EACT7F,MAAM,UACNI,QAAQ,YACR2F,KAAK,SALP,aAUF,yBAAKhG,UAAU,sBACb,kBAACG,EAAA,EAAD,CAAYH,UAAU,mBAAmBK,QAAQ,KAAK4F,QAAM,GAA5D,aAGA,kBAACC,GAAA,EAAD,CAASlG,UAAU,uBACnB,kBAACmG,EAAA,EAAD,MACIN,GAAW,IAAIO,KAAI,gBAAGzB,EAAH,EAAGA,GAAI0B,EAAP,EAAOA,KAAP,OACnB,yBAAKpF,IAAK0D,EAAI2B,cAAe,SAAAC,GAAK,OAAIlB,EAAiBkB,EAAO5B,KAC5D,kBAAC6B,EAAA,EAAD,CAAUC,QAAM,GACd,kBAACC,GAAA,EAAD,CAAcC,QAASN,cAUvCT,GAAUJ,aAAe,CACvBK,QAAS,IAiBID,UC/BTR,I,OAAc,CAClBwB,iCAAiC,EACjCC,QAAS,EACTC,KAAM,CACJnB,cAAe,OACf1F,MAAO,UACP8G,UAAW,QACXC,SAAU,EACVC,WAAY,SACZC,eAAgB,OAChBC,kBAAmB,EACnBC,oBAAqB,SACrBC,qBAAsB,OACtBC,qBAAsB,OACtBC,YAAa,UACbC,QAAS,EACTxB,KAAM,IACNyB,YAAa,OACbC,YAAa,IACbC,WAAY,YAIVC,GAA0B,CAAEC,OAAQ,KAAMC,OAAQ,MAwWzCC,GAtWG,WAAO,IAAD,EACgDtH,EAAqB,CACzFwD,aAAc+D,EACd5D,WAAY6D,EACZ3D,WAAY4D,EACZtD,WAAYuD,EACZnD,QAASoD,IALHnE,EADc,EACdA,aAAcG,EADA,EACAA,WAAYE,EADZ,EACYA,WAAYM,EADxB,EACwBA,WAAYI,EADpC,EACoCA,QADpC,EAQmCqD,aACvD,gBAAGC,EAAH,EAAGA,iBAAH,MAA2B,CACzBnD,cAAemD,EAAiBnD,cAChCU,QAASyC,EAAiBzC,QAC1B0C,WAAYD,EAAiBC,WAC7BC,SAAUF,EAAiBE,YAE7BC,KAPMtD,EARc,EAQdA,cAAeU,EARD,EAQCA,QAAS0C,EARV,EAQUA,WAAYC,EARtB,EAQsBA,SARtB,EAiBgBE,oBAAS,GAjBzB,mBAiBfC,EAjBe,KAiBDC,EAjBC,OAkBwBF,oBAAS,GAlBjC,mBAkBfG,EAlBe,KAkBGC,EAlBH,OAmB4BJ,oBAAS,GAnBrC,mBAmBfK,EAnBe,KAmBKC,EAnBL,OAoB8BN,oBAAS,GApBvC,mBAoBfO,EApBe,KAoBMC,GApBN,QAqBkBR,mBAAS,IArB3B,qBAqBfS,GArBe,MAqBDC,GArBC,SAsBgBV,mBAAS,IAtBzB,qBAsBfW,GAtBe,MAsBFC,GAtBE,SAuB0BZ,mBAAS,IAvBnC,qBAuBfa,GAvBe,MAuBGC,GAvBH,SAwBgBd,mBAASd,IAxBzB,qBAwBf6B,GAxBe,MAwBFC,GAxBE,SAyBwBhB,mBAASd,IAzBjC,qBAyBf+B,GAzBe,MAyBEC,GAzBF,SA0BoBlB,mBAAS,MA1B7B,qBA0BfmB,GA1Be,MA0BAC,GA1BA,SA2BoBpB,mBAAS,MA3B7B,qBA2BfqB,GA3Be,MA2BAC,GA3BA,UA4Ba7E,GAAiB,IAA5CM,MAAOwE,QA5BO,OA4BM,GA5BN,GA8BhBC,GAAiB9H,sBAAY6B,EAAc,IAEjDrB,qBAAU,WACRsH,OACC,CAACA,KAEJ,IAAMpE,GAAmB,kBAAM8C,GAAc,IAqBvCuB,GAAoB,WACxBvB,GAAc,GACdU,GAAe,KAGXc,GAAwB,WAC5BtB,GAAkB,GAClBQ,GAAe,IACfQ,GAAiB,OAGbO,GAA0B,WAC9BrB,GAAoB,GACpBQ,GAAoB,IACpBM,GAAiB,OAQbQ,GAA2B,WAC/BpB,IAAqB,GACrBY,GAAiB,KAGnBvI,EAAoB,CAAC,QAAS,MAAM,WAC7BoH,GAAc7C,QAGrB,IAiGwBL,GAAO8E,GAjGzBC,GAAmB,SAAAC,GACvBA,EAAEC,iBAD0B,IAGhBxH,EACRuH,EADFnI,OAAUY,MAEZoG,GAAepG,IAsEXmC,GAAmB,SAACkB,EAAO5B,GAC/B4B,EAAMmE,iBACNZ,GAAiBnF,GACjB+E,GAAe,CAAE7B,OAAQtB,EAAMoE,QAAS7C,OAAQvB,EAAMqE,WAuBxD,OACE,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAAC9K,UAAU,YAAYT,QAAS,GAC7C,kBAACsL,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAACC,EAAA,EAAD,CAAWtG,GAAG,2BAA2B3E,UAAU,2BAA2BkL,OAAK,GAChF/F,GACC,kBAACgG,EAAD,CACEhG,cAAeA,EACfC,YAAW,2BACNA,IADM,IAETgG,MAAOC,SAASC,eAAe,4BAA4BC,YAC3DC,OAAQH,SAASC,eAAe,4BAA4BG,eAE9DpG,iBAAkBA,GAClBC,iBAjCa,SAACiB,EAAO5B,GAC/B4B,EAAMmE,iBACNV,GAAiBrF,GACjBiF,GAAmB,CAAE/B,OAAQtB,EAAMoE,QAAS7C,OAAQvB,EAAMqE,cAkCtD,kBAACc,EAAA,EAAD,CACEC,KAAM1C,EACN2C,QAAStB,GACTuB,kBAAgB,qBAEhB,kBAACC,EAAA,EAAD,CAAanH,GAAG,qBAAhB,mBACA,kBAACoH,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYrH,GAAG,iCAAf,iBACA,kBAACsH,EAAA,EAAD,CACEC,QAAQ,gCACRlM,UAAU,6BACVkD,MAAO2G,GACPsC,UAAQ,GAEP,sBAAIlC,IAAJ,YAAoBpE,GAAW,KAAKO,KAAI,gBAAGzB,EAAH,EAAGA,GAAI0B,EAAP,EAAOA,KAAP,OACvC,kBAAC+F,EAAA,EAAD,CAAUnL,IAAK0D,EAAIzB,MAAOyB,GACvB0B,OAIP,kBAAC2F,EAAA,EAAD,CAAYrH,GAAG,iCAAf,iBACA,kBAACsH,EAAA,EAAD,CACEjM,UAAU,6BACVkM,QAAQ,gCACRhJ,MAAOiG,GACPkD,SAvHmB,SAAA5B,GAAM,IAEvBvH,EACRuH,EADFnI,OAAUY,MAEZkG,GAAgBlG,MAqEMuC,GAgDIwE,GAhDGM,GAgDSV,GA/C/BpE,GAAMxC,QAAO,SAAA6D,GAAI,OAAIA,EAAKnC,KAAO4F,OA+CanE,KAAI,gBAAGzB,EAAH,EAAGA,GAAI0B,EAAP,EAAOA,KAAP,OAC7C,kBAAC+F,EAAA,EAAD,CAAUnL,IAAK0D,EAAIzB,MAAOyB,GACvB0B,QAKT,kBAACiG,EAAA,EAAD,KACE,kBAAC9L,EAAA,EAAD,CACEuF,QA3HU,WACpB,IAAMpB,EAAK4H,cAUXvH,EATgB,CACdL,KACA6H,OAAQ3C,GACRvH,OAAQ6G,GACRsD,WAAY,CACVC,MHlL6B,KGmL7BpL,KAAM,SAGOoC,MAAK,WACpBwG,KACAd,GAAgB,IAChBU,GAAiB,IACjBQ,SA6GQrK,MAAM,UACNkM,UAAWhD,IAAgBX,EAASxD,SAHtC,YAOA,kBAACxE,EAAA,EAAD,CAAQuF,QAASuE,IAAjB,YAGJ,kBAACoB,EAAA,EAAD,CAAQC,KAAMhD,EAAciD,QAASzB,GAAmB0B,kBAAgB,qBACtE,kBAACC,EAAA,EAAD,CAAanH,GAAG,qBAAhB,mBACA,kBAACoH,EAAA,EAAD,KACE,kBAACY,EAAA,EAAD,CACEC,OAAO,QACPjI,GAAG,OACHkI,MAAM,YACNC,WAAS,EACTT,SAAU7B,MAGd,kBAAC8B,EAAA,EAAD,KACE,kBAAC9L,EAAA,EAAD,CACEuF,QAxKU,WASpB3B,EAPgB,CAEdqI,WAAY,CACVpG,KAAMgD,GACNqD,MH1J6B,QG6JbhJ,MAAK,WACvBwG,KACAZ,GAAe,IACfa,SA6JQlK,MAAM,UACNkM,UAAW9C,IAAeb,EAASpE,YAHrC,YAOA,kBAAC5D,EAAA,EAAD,CAAQuF,QAASoE,IAAjB,YAGJ,kBAACuB,EAAA,EAAD,CACEC,KAAM9C,EACN+C,QAASzB,GACT0B,kBAAgB,qBAEhB,kBAACC,EAAA,EAAD,CAAanH,GAAG,qBAAhB,aACA,kBAACoH,EAAA,EAAD,KACE,kBAACY,EAAA,EAAD,CACEC,OAAO,QACPjI,GAAG,OACHkI,MAAM,YACN3J,MAAOmG,GACPyD,WAAS,EACTT,SAAU7B,MAGd,kBAAC8B,EAAA,EAAD,KACE,kBAAC9L,EAAA,EAAD,CACEuF,QAzJa,WAAO,IACtBN,EAAUN,EAAVM,MADqB,EAEF,sBAAIA,GAAJ,YAAcI,IAASkH,MAChD,qBAAGpI,KAA4BkF,MADzBlF,EAFqB,EAErBA,GAAI8H,EAFiB,EAEjBA,WAGNlI,EAAc,CAClBI,KACA8H,WAAW,2BACNA,GADK,IAERpG,KAAMgD,MAGV/E,EAAWC,GAAab,MAAK,WAC3BwG,KACAE,SA4IQnK,MAAM,UACNkM,UAAW9C,IAAeb,EAASlE,YAHrC,UAOA,kBAAC9D,EAAA,EAAD,CAAQuF,QAASqE,IAAjB,YAGJ,kBAACsB,EAAA,EAAD,CACEC,KAAM5C,EACN6C,QAASvB,GACTwB,kBAAgB,qBAEhB,kBAACC,EAAA,EAAD,CAAanH,GAAG,qBAAhB,eACA,kBAACoH,EAAA,EAAD,KACE,kBAAC5L,EAAA,EAAD,CAAYE,QAAQ,SAApB,8BAC6B,gCAASkJ,IADtC,MAIF,kBAAC+C,EAAA,EAAD,KACE,kBAAC9L,EAAA,EAAD,CAAQuF,QA5JO,WACvBnB,EAAWiF,IAAenG,MAAK,WAC7BwG,KACAG,SAyJyCpK,MAAM,WAAzC,UAGA,kBAACO,EAAA,EAAD,CAAQuF,QAASsE,IAAjB,aAIN,kBAACQ,EAAA,EAAD,CAAM7K,UAAU,2BAA2B+K,MAAI,EAACC,GAAI,GAClD,kBAAC,GAAD,CACEnF,QAASA,EACTC,iBAAkBA,GAClBT,iBAAkBA,MAGtB,kBAAC,IAAD,CACE2H,aAAW,EACXrB,KAA6B,OAAvBlC,GAAY3B,OAClB8D,QA1JyB,WAC7BlC,GAAe9B,IACfkC,GAAiB,OAyJbmD,gBAAgB,iBAChBC,eACyB,OAAvBzD,GAAY3B,QAA0C,OAAvB2B,GAAY5B,OACvC,CAAEsF,IAAK1D,GAAY3B,OAAQsF,KAAM3D,GAAY5B,aAC7CwF,GAGN,kBAACjB,EAAA,EAAD,CAAUrG,QAvQgB,WAC9B2D,GAAe9B,IACfsB,IAAqB,KAqQjB,YACA,kBAACkD,EAAA,EAAD,CAAUrG,QA5Sa,WAC3B,IAAMuH,EAAiB/E,EAAWsB,IAAexD,KACjDqD,GAAe9B,IACf0B,GAAegE,GACfxE,GAAkB,KAwSd,aACA,kBAACsD,EAAA,EAAD,CAAUrG,QAtSe,WAAO,IAC5BN,EAAUN,EAAVM,MACAY,EAAS,sBAAIZ,GAAJ,YAAcI,IAASkH,MAAK,qBAAGpI,KAAgBkF,MAAxDxD,KACRmD,GAAoBnD,GACpBqD,GAAe9B,IACfoB,GAAoB,KAiShB,gBAEF,kBAAC,IAAD,CACEgE,aAAW,EACXrB,KAAiC,OAA3BhC,GAAgB7B,OACtB8D,QApK6B,WACjChC,GAAmBhC,IACnBoC,GAAiB,OAmKbiD,gBAAgB,iBAChBC,eAC6B,OAA3BvD,GAAgB7B,QAA8C,OAA3B6B,GAAgB9B,OAC/C,CAAEsF,IAAKxD,GAAgB7B,OAAQsF,KAAMzD,GAAgB9B,aACrDwF,GAGN,kBAACjB,EAAA,EAAD,CAAUrG,QA3SmB,WACjCwH,QAAQC,IAAI,KAAMzD,MA0Sd,kB,OC3YO0D,OATf,WACE,OACE,yBAAKzN,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,GAAD,Q,6BCRS0N,GAFK,eAACjI,EAAD,uDAAS,GAAT,OAAgBA,EAAMW,KAAI,SAAAU,GAAI,kCAAUA,GAAV,IAAgBT,KAAMS,EAAK2F,WAAWpG,WCGlFsH,GAAe,CACnBnF,SAAU,CACRrD,eAAe,EACff,YAAY,EACZE,YAAY,EACZM,YAAY,EACZI,SAAS,GAEXG,cAAe,KACfU,QAAS,KACT+H,eAAgB,KAChBrF,WAAY,MA+GCD,GA5GU,WAAwC,IAAvCjH,EAAsC,uDAA9BsM,GAAczM,EAAgB,uDAAP,GACvD,OAAQA,EAAOI,MACb,IAAI,GAAJ,ONnB4B,mBMmB5B,YACE,OAAO,2BACFD,GADL,IAEEmH,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuBrD,eAAe,MAElD,IAAI,GAAJ,ONxB4B,mBMwB5B,cAAuC,IAAD,EACUjE,EAAO0C,QAApCiK,EADmB,EAC5BhI,QAAwBiI,EADI,4BAErBC,EAAaD,EAApBrI,MACFA,EAAQiI,GAAYK,GACpBlI,EAAU6H,GAAYG,GACtB1I,EAAa,2BACd2I,GADc,IAEjBrI,QACAoE,cAAe,KAEXtB,EAAa,sBAAI9C,GAAJ,YAAcI,IAAS9E,QACxC,SAACC,EAAK8F,GAAN,mBAAC,eAAoB9F,GAArB,kBAA2B8F,EAAKnC,GAAhC,eAA0CmC,OAC1C,IAEF,OAAO,2BACFzF,GADL,IAEE8D,gBACAU,UACA0C,aACAC,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuBrD,eAAe,MAGlD,IAAI,GAAJ,ON9C4B,mBM8C5B,aACE,OAAO,2BACF9D,GADL,IAEEmH,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuBrD,eAAe,MAElD,IAAI,GAAJ,ONlDuB,cMkDvB,YACE,OAAO,2BACF9D,GADL,IAEEmH,SAAS,2BACJnH,EAAMmH,UADH,IAENpE,YAAY,MAGlB,IAAI,GAAJ,ON1DuB,cM0DvB,cAQA,IAAI,GAAJ,ONlEuB,cMkEvB,aACE,OAAO,2BACF/C,GADL,IAEEmH,SAAS,2BACJnH,EAAMmH,UADH,IAENpE,YAAY,MAGlB,IAAI,GAAJ,ONzEuB,cMyEvB,YACE,OAAO,2BACF/C,GADL,IAEEmH,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuBlE,YAAY,MAE/C,IAAI,GAAJ,ON9EuB,cM8EvB,cAKA,IAAI,GAAJ,ONnFuB,cMmFvB,aACE,OAAO,2BACFjD,GADL,IAEEmH,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuBlE,YAAY,MAE/C,IAAI,GAAJ,ONvFuB,cMuFvB,YACE,OAAO,2BACFjD,GADL,IAEEmH,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuB5D,YAAY,MAE/C,IAAI,GAAJ,ON5FuB,cM4FvB,cAKA,IAAI,GAAJ,ONjGuB,cMiGvB,aACE,OAAO,2BACFvD,GADL,IAEEmH,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuB5D,YAAY,MAE/C,IAAI,GAAJ,ONrGoB,WMqGpB,YACE,OAAO,2BACFvD,GADL,IAEEmH,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuBxD,SAAS,MAE5C,IAAI,GAAJ,ON1GoB,WM0GpB,cAKA,IAAI,GAAJ,ON/GoB,WM+GpB,aACE,OAAO,2BACF3D,GADL,IAEEmH,SAAS,2BAAMnH,EAAMmH,UAAb,IAAuBxD,SAAS,MAE5C,QACE,OAAO3D,IClHE2M,GAPI,WAA8B,IAA7B3M,EAA4B,uDAApB,GAAIH,EAAgB,uDAAP,GAGnC,OAFIA,EAAOI,KAEJD,GCIE4M,GAFCC,aAAgB,CAAEF,cAAY1F,sBCS/B6F,GATDC,aACZH,GACAI,aACEC,aAAgBC,MAEhB1L,OAAO2L,6BAA+B3L,OAAO2L,+BAAiC,SAAAC,GAAC,OAAIA,KCGnEC,QACW,cAA7B7L,OAAO8L,SAASC,UAEe,UAA7B/L,OAAO8L,SAASC,UAEhB/L,OAAO8L,SAASC,SAASC,MAAM,2D,OCTnCC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,CAAUb,MAAOA,IACf,kBAAC,GAAD,QAGJ9C,SAASC,eAAe,SDkHpB,kBAAmB2D,WACrBA,UAAUC,cAAcC,MACrBzL,MAAK,SAAA0L,GACJA,EAAaC,gBAEdxL,OAAM,SAAAC,GACLyJ,QAAQzJ,MAAMA,EAAMC,c","file":"static/js/main.e68884e7.chunk.js","sourcesContent":["import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport BubbleChart from '@material-ui/icons/BubbleChart';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst NavBar = () => {\n  const classes = useStyles();\n  return (\n    <AppBar position=\"relative\">\n      <Toolbar>\n        <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n          <MenuIcon />\n        </IconButton>\n        <Typography align=\"center\" variant=\"h6\" className={classes.title}>\n          Grapher\n          <BubbleChart style={{ marginLeft: '5px' }} />\n        </Typography>\n        <Button color=\"inherit\">Login</Button>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default NavBar;\n","import { useDispatch } from 'react-redux';\n\nconst useDispatchedActions = actions => {\n  const dispatch = useDispatch();\n  return Object.entries(actions).reduce(\n    (acc, [key, action]) => ({\n      ...acc,\n      [key]: (...args) => dispatch(action(...args)),\n    }),\n    {}\n  );\n};\n\nexport default useDispatchedActions;\n","import { useEffect, useReducer, useCallback } from 'react';\n\nconst blacklistedTargets = ['INPUT', 'TEXTAREA'];\n\nconst keysReducer = (state, action) => {\n  switch (action.type) {\n    case 'set-key-down':\n      return { ...state, [action.key]: true };\n    case 'set-key-up':\n      return { ...state, [action.key]: false };\n    default:\n      return state;\n  }\n};\n\nconst useKeyboardShortcut = (shortcutKeys, callback) => {\n  if (!Array.isArray(shortcutKeys) || !shortcutKeys.length) {\n    throw new Error(\n      'The first parameter to `useKeyboardShortcut` must be an array containing at least one `KeyboardEvent.key` string.'\n    );\n  }\n  if (!callback || typeof callback !== 'function') {\n    throw new Error(\n      'The second parameter to `useKeyboardShortcut` must be a function that will be invoked when the keys are pressed.'\n    );\n  }\n\n  const initialKeyMapping = shortcutKeys.reduce(\n    (currentKeys, key) => ({\n      ...currentKeys,\n      [key]: false,\n    }),\n    {}\n  );\n\n  const [keys, setKeys] = useReducer(keysReducer, initialKeyMapping);\n\n  const keydownListener = useCallback(\n    keydownEvent => {\n      const { key, target, repeat } = keydownEvent;\n      if (repeat) return;\n      if (blacklistedTargets.includes(target.tagName)) return;\n      if (!shortcutKeys.includes(key)) return;\n\n      if (!keys[key]) {\n        setKeys({ type: 'set-key-down', key });\n      }\n    },\n    [shortcutKeys, keys]\n  );\n\n  const keyupListener = useCallback(\n    keyupEvent => {\n      const { key, target } = keyupEvent;\n      if (blacklistedTargets.includes(target.tagName)) return;\n      if (!shortcutKeys.includes(key)) return;\n\n      if (keys[key]) {\n        setKeys({ type: 'set-key-up', key });\n      }\n    },\n    [shortcutKeys, keys]\n  );\n\n  useEffect(() => {\n    window.addEventListener('keydown', keydownListener, true);\n\n    return () => window.removeEventListener('keydown', keydownListener, true);\n  }, [keydownListener]);\n\n  useEffect(() => {\n    window.addEventListener('keyup', keyupListener, true);\n\n    return () => window.removeEventListener('keyup', keyupListener, true);\n  }, [keyupListener]);\n\n  useEffect(() => {\n    if (!Object.values(keys).filter(value => !value).length) callback(keys);\n  }, [callback, keys]);\n};\n\nexport default useKeyboardShortcut;\n","import axios from 'axios';\n\nexport const getApiElements = (url, actionName) => {\n  const headers = {};\n  const request = axios.get(url, headers);\n\n  return dispatch => {\n    dispatch({\n      type: `${actionName}_PENDING`,\n    });\n    return request\n      .then(({ data }) => {\n        dispatch({\n          type: `${actionName}_FULFILLED`,\n          payload: data,\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: `${actionName}_REJECTED`,\n          payload: error.message,\n        });\n      });\n  };\n};\n\nexport const postApiElements = (url, actionName, newObject) => {\n  const request = axios.post(url, newObject);\n  return dispatch => {\n    dispatch({ type: `${actionName}_PENDING` });\n\n    return request\n      .then(({ data }) => {\n        dispatch({\n          type: `${actionName}_FULFILLED`,\n          payload: data,\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: `${actionName}_REJECTED`,\n          payload: error.message,\n        });\n      });\n  };\n};\n\nexport const putApiElement = (url, actionName, updatedObject) => {\n  const request = axios.put(url, updatedObject);\n\n  return dispatch => {\n    dispatch({ type: `${actionName}_PENDING` });\n\n    return request\n      .then(({ data }) => {\n        dispatch({\n          type: `${actionName}_PENDING`,\n          payload: data,\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: `${actionName}_REJECTED`,\n          payload: error.message,\n        });\n      });\n  };\n};\n\nexport const deleteApiElement = (url, actionName, requestBodyPayload) => {\n  const headers = {};\n  const request = axios.delete(url, {\n    ...headers,\n    ...(requestBodyPayload && Object.keys(requestBodyPayload).length > 0\n      ? { data: requestBodyPayload }\n      : {}),\n  });\n\n  return dispatch => {\n    dispatch({\n      type: `${actionName}_PENDING`,\n      payload: requestBodyPayload,\n    });\n\n    return request\n      .then(({ data }) => {\n        dispatch({\n          type: `${actionName}_FULFILLED`,\n          payload: data,\n        });\n      })\n      .catch(error => {\n        dispatch({\n          type: `${actionName}_REJECTED`,\n          payload: error.message,\n        });\n      });\n  };\n};\n","import {\n  getApiElements,\n  postApiElements,\n  putApiElement,\n  deleteApiElement,\n} from 'services/api/utils';\nimport { FETCH_GRAPH_DATA, CREATE_NODE, UPDATE_NODE, DELETE_NODE, ADD_LINK } from './constants';\n\nconst GET_GRAPH_URL = 'https://grapher-app.herokuapp.com/graphs?space=20';\nconst ADD_NODE_URL = 'https://grapher-app.herokuapp.com/graphs/nodes';\nconst ADD_LINK_URL = 'https://grapher-app.herokuapp.com/graphs/links';\nexport const getGraphData = () => getApiElements(GET_GRAPH_URL, FETCH_GRAPH_DATA);\n\nexport const createNode = newNode => postApiElements(ADD_NODE_URL, CREATE_NODE, newNode);\n\nexport const updateNode = updatedNode =>\n  putApiElement(`${ADD_NODE_URL}/${updatedNode.id}`, UPDATE_NODE, updatedNode);\n\nexport const deleteNode = id => deleteApiElement(`${ADD_NODE_URL}/${id}`, DELETE_NODE);\n\nexport const addLink = newLink => postApiElements(ADD_LINK_URL, ADD_LINK, newLink);\n","export const FETCH_GRAPH_DATA = 'FETCH_GRAPH_DATA';\nexport const CREATE_NODE = 'CREATE_NODE';\nexport const UPDATE_NODE = 'UPDATE_NODE';\nexport const DELETE_NODE = 'DELETE_NODE';\nexport const ADD_LINK = 'ADD_LINK';\n\nexport const TEMPORARY_SPACE_VALUE = '20';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Graph } from 'react-d3-graph';\n\nconst GraphWorkspace = ({ selectedGraph, graphConfig, onRightClickNode, onRightClickLink }) => {\n  return (\n    <Graph\n      id=\"graph\"\n      className=\"Workspace__Graph\"\n      data={selectedGraph}\n      config={graphConfig}\n      onRightClickNode={onRightClickNode}\n      onRightClickLink={onRightClickLink}\n    />\n  );\n};\n\nGraphWorkspace.defaultProps = {\n  selectedGraph: {\n    nodes: [],\n    edges: [],\n  },\n  graphConfig: {\n    labelProperty: 'name',\n  },\n};\n\nGraphWorkspace.propTypes = {\n  selectedGraph: PropTypes.shape({\n    nodes: PropTypes.array,\n    edges: PropTypes.array,\n  }),\n  graphConfig: PropTypes.shape({\n    labelProperty: PropTypes.string,\n  }),\n  onRightClickNode: PropTypes.func.isRequired,\n  onRightClickLink: PropTypes.func.isRequired,\n};\n\nexport default GraphWorkspace;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from '@material-ui/core/Button';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\n\nimport './Orphanage.scss';\n\nconst Orphanage = ({ orphans, handleOpenDialog, onRightClickNode }) => {\n  return (\n    <div className=\"Orphanage\">\n      <div className=\"Orphanage__actions\">\n        <Button\n          className=\"Orphanage__button\"\n          onClick={handleOpenDialog}\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n        >\n          Add node\n        </Button>\n      </div>\n      <div className=\"Orphanage__wrapper\">\n        <Typography className=\"Orphanage__title\" variant=\"h6\" noWrap>\n          Orphanage\n        </Typography>\n        <Divider className=\"Orphanage__divider\" />\n        <List>\n          {(orphans || []).map(({ id, name }) => (\n            <div key={id} onContextMenu={event => onRightClickNode(event, id)}>\n              <ListItem button>\n                <ListItemText primary={name} />\n              </ListItem>\n            </div>\n          ))}\n        </List>\n      </div>\n    </div>\n  );\n};\n\nOrphanage.defaultProps = {\n  orphans: [],\n};\n\nOrphanage.propTypes = {\n  orphans: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      properties: PropTypes.shape({\n        name: PropTypes.string,\n        space: PropTypes.string,\n      }),\n    })\n  ),\n  handleOpenDialog: PropTypes.func.isRequired,\n  onRightClickNode: PropTypes.func.isRequired,\n};\n\nexport default Orphanage;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { v4 as uuid } from 'uuid';\n\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport { Typography } from '@material-ui/core';\nimport Select from '@material-ui/core/Select';\n\nimport { useDispatchedActions, useKeyboardShortcut } from 'hooks';\nimport {\n  getGraphData as getGraphDataAction,\n  createNode as createNodeAction,\n  updateNode as updateNodeAction,\n  deleteNode as deleteNodeAction,\n  addLink as addLinkAction,\n} from './actions';\nimport { TEMPORARY_SPACE_VALUE } from './constants';\n\nimport Graph from './components/Graph';\nimport Orphanage from './components/Orphanage';\n\nimport './Workspace.scss';\n\nconst graphConfig = {\n  automaticRearrangeAfterDropNode: true,\n  minZoom: 1,\n  node: {\n    labelProperty: 'name',\n    color: '#d3d3d3',\n    fontColor: 'black',\n    fontSize: 8,\n    fontWeight: 'normal',\n    highlightColor: 'SAME',\n    highlightFontSize: 8,\n    highlightFontWeight: 'normal',\n    highlightStrokeColor: 'SAME',\n    highlightStrokeWidth: 'SAME',\n    mouseCursor: 'pointer',\n    opacity: 1,\n    size: 500,\n    strokeColor: 'none',\n    strokeWidth: 1.5,\n    symbolType: 'circle',\n  },\n};\n\nconst contextMenuInitialState = { mouseX: null, mouseY: null };\n\nconst Workspace = () => {\n  const { getGraphData, createNode, updateNode, deleteNode, addLink } = useDispatchedActions({\n    getGraphData: getGraphDataAction,\n    createNode: createNodeAction,\n    updateNode: updateNodeAction,\n    deleteNode: deleteNodeAction,\n    addLink: addLinkAction,\n  });\n  const { selectedGraph, orphans, nodesByIds, fetching } = useSelector(\n    ({ workspaceReducer }) => ({\n      selectedGraph: workspaceReducer.selectedGraph,\n      orphans: workspaceReducer.orphans,\n      nodesByIds: workspaceReducer.nodesByIds,\n      fetching: workspaceReducer.fetching,\n    }),\n    shallowEqual\n  );\n  const [isDialogOpen, setDialogOpen] = useState(false);\n  const [isEditDialogOpen, setEditDialogOpen] = useState(false);\n  const [isDeleteDialogOpen, setDeleteDialogOpen] = useState(false);\n  const [isAddLinkDialogOpen, setAddLinkDialogOpen] = useState(false);\n  const [targetNodeId, setTargetNodeId] = useState('');\n  const [newNodeName, setNewNodeName] = useState('');\n  const [nodeToDeleteName, setNodeToDeleteName] = useState('');\n  const [contextMenu, setContextMenu] = useState(contextMenuInitialState);\n  const [linkContextMenu, setLinkContextMenu] = useState(contextMenuInitialState);\n  const [focusedNodeId, setFocusedNodeId] = useState(null);\n  const [focusedLinkId, setFocusedLinkId] = useState(null);\n  const { nodes: graphNodes = [] } = selectedGraph || {};\n\n  const fetchGraphData = useCallback(getGraphData, []);\n\n  useEffect(() => {\n    fetchGraphData();\n  }, [fetchGraphData]);\n\n  const handleOpenDialog = () => setDialogOpen(true);\n\n  const handleOpenEditDialog = () => {\n    const editedNodeName = nodesByIds[focusedNodeId].name;\n    setContextMenu(contextMenuInitialState);\n    setNewNodeName(editedNodeName);\n    setEditDialogOpen(true);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    const { nodes } = selectedGraph;\n    const { name } = [...nodes, ...orphans].find(({ id }) => id === focusedNodeId);\n    setNodeToDeleteName(name);\n    setContextMenu(contextMenuInitialState);\n    setDeleteDialogOpen(true);\n  };\n\n  const handleOpenDeleteLinkDialog = () => {\n    console.log('id', focusedLinkId);\n  };\n\n  const handleCloseDialog = () => {\n    setDialogOpen(false);\n    setNewNodeName('');\n  };\n\n  const handleCloseEditDialog = () => {\n    setEditDialogOpen(false);\n    setNewNodeName('');\n    setFocusedNodeId(null);\n  };\n\n  const handleCloseDeleteDialog = () => {\n    setDeleteDialogOpen(false);\n    setNodeToDeleteName('');\n    setFocusedNodeId(null);\n  };\n\n  const handleOpenAddLinkDialog = () => {\n    setContextMenu(contextMenuInitialState);\n    setAddLinkDialogOpen(true);\n  };\n\n  const handleCloseAddLinkDialog = () => {\n    setAddLinkDialogOpen(false);\n    setFocusedNodeId('');\n  };\n\n  useKeyboardShortcut(['Shift', 'N'], () => {\n    if (!isDialogOpen) handleOpenDialog();\n  });\n\n  const onChangeNodeName = e => {\n    e.preventDefault();\n    const {\n      target: { value },\n    } = e;\n    setNewNodeName(value);\n  };\n\n  const handleAddNode = () => {\n    // const id = uuid();\n    const newNode = {\n      // id,\n      properties: {\n        name: newNodeName,\n        space: TEMPORARY_SPACE_VALUE,\n      },\n    };\n    createNode(newNode).then(() => {\n      fetchGraphData();\n      setNewNodeName('');\n      handleCloseDialog();\n    });\n  };\n\n  const handleChangeTargetNode = e => {\n    const {\n      target: { value },\n    } = e;\n    setTargetNodeId(value);\n  };\n\n  const handleAddLink = () => {\n    const id = uuid();\n    const newLink = {\n      id,\n      source: focusedNodeId,\n      target: targetNodeId,\n      properties: {\n        space: TEMPORARY_SPACE_VALUE,\n        type: 'API',\n      },\n    };\n    addLink(newLink).then(() => {\n      fetchGraphData();\n      setTargetNodeId('');\n      setFocusedNodeId('');\n      handleCloseAddLinkDialog();\n    });\n  };\n\n  const handleUpdateNode = () => {\n    const { nodes } = selectedGraph;\n    const { id, properties } = [...nodes, ...orphans].find(\n      ({ id: nodeId }) => nodeId === focusedNodeId\n    );\n    const updatedNode = {\n      id,\n      properties: {\n        ...properties,\n        name: newNodeName,\n      },\n    };\n    updateNode(updatedNode).then(() => {\n      fetchGraphData();\n      handleCloseEditDialog();\n    });\n  };\n\n  const handleDeleteNode = () => {\n    deleteNode(focusedNodeId).then(() => {\n      fetchGraphData();\n      handleCloseDeleteDialog();\n    });\n  };\n\n  const onRightClickNode = (event, id) => {\n    event.preventDefault();\n    setFocusedNodeId(id);\n    setContextMenu({ mouseX: event.clientX, mouseY: event.clientY });\n  };\n\n  const onRightClickLink = (event, id) => {\n    event.preventDefault();\n    setFocusedLinkId(id);\n    setLinkContextMenu({ mouseX: event.clientX, mouseY: event.clientY });\n  };\n\n  const handleCloseContextMenu = () => {\n    setContextMenu(contextMenuInitialState);\n    setFocusedNodeId(null);\n  };\n\n  const handleCloseLinkContextMenu = () => {\n    setLinkContextMenu(contextMenuInitialState);\n    setFocusedLinkId(null);\n  };\n\n  const getTargetNodes = (nodes, selectedNodeId) => {\n    return nodes.filter(node => node.id !== selectedNodeId);\n  };\n\n  return (\n    <Grid container className=\"Workspace\" spacing={0}>\n      <Grid item xs={9}>\n        <Container id=\"Workspace__Graph-wrapper\" className=\"Workspace__Graph-wrapper\" fixed>\n          {selectedGraph && (\n            <Graph\n              selectedGraph={selectedGraph}\n              graphConfig={{\n                ...graphConfig,\n                width: document.getElementById('Workspace__Graph-wrapper').offsetWidth,\n                height: document.getElementById('Workspace__Graph-wrapper').offsetHeight,\n              }}\n              onRightClickNode={onRightClickNode}\n              onRightClickLink={onRightClickLink}\n            />\n          )}\n        </Container>\n        <Dialog\n          open={isAddLinkDialogOpen}\n          onClose={handleCloseAddLinkDialog}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Create new link</DialogTitle>\n          <DialogContent>\n            <InputLabel id=\"Workspace__source-node-select\">Source node: </InputLabel>\n            <Select\n              labelId=\"Workspace__source-node-select\"\n              className=\"Workspace__add-link-select\"\n              value={focusedNodeId}\n              disabled\n            >\n              {[...graphNodes, ...(orphans || [])].map(({ id, name }) => (\n                <MenuItem key={id} value={id}>\n                  {name}\n                </MenuItem>\n              ))}\n            </Select>\n            <InputLabel id=\"Workspace__target-node-select\">Target node: </InputLabel>\n            <Select\n              className=\"Workspace__add-link-select\"\n              labelId=\"Workspace__target-node-select\"\n              value={targetNodeId}\n              onChange={handleChangeTargetNode}\n            >\n              {getTargetNodes(graphNodes, focusedNodeId).map(({ id, name }) => (\n                <MenuItem key={id} value={id}>\n                  {name}\n                </MenuItem>\n              ))}\n            </Select>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={handleAddLink}\n              color=\"primary\"\n              disabled={!targetNodeId || fetching.addLink}\n            >\n              Add link\n            </Button>\n            <Button onClick={handleCloseAddLinkDialog}>Cancel</Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog open={isDialogOpen} onClose={handleCloseDialog} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">Create new node</DialogTitle>\n          <DialogContent>\n            <TextField\n              margin=\"dense\"\n              id=\"name\"\n              label=\"Node name\"\n              fullWidth\n              onChange={onChangeNodeName}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={handleAddNode}\n              color=\"primary\"\n              disabled={!newNodeName || fetching.createNode}\n            >\n              Add node\n            </Button>\n            <Button onClick={handleCloseDialog}>Cancel</Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog\n          open={isEditDialogOpen}\n          onClose={handleCloseDialog}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Edit node</DialogTitle>\n          <DialogContent>\n            <TextField\n              margin=\"dense\"\n              id=\"name\"\n              label=\"Node name\"\n              value={newNodeName}\n              fullWidth\n              onChange={onChangeNodeName}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={handleUpdateNode}\n              color=\"primary\"\n              disabled={!newNodeName || fetching.updateNode}\n            >\n              Update\n            </Button>\n            <Button onClick={handleCloseEditDialog}>Cancel</Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog\n          open={isDeleteDialogOpen}\n          onClose={handleCloseDeleteDialog}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Delete node</DialogTitle>\n          <DialogContent>\n            <Typography variant=\"body1\">\n              Do you want to delete node <strong>{nodeToDeleteName}</strong>?\n            </Typography>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleDeleteNode} color=\"primary\">\n              Delete\n            </Button>\n            <Button onClick={handleCloseDeleteDialog}>Cancel</Button>\n          </DialogActions>\n        </Dialog>\n      </Grid>\n      <Grid className=\"Workspace__Graph-wrapper\" item xs={3}>\n        <Orphanage\n          orphans={orphans}\n          handleOpenDialog={handleOpenDialog}\n          onRightClickNode={onRightClickNode}\n        />\n      </Grid>\n      <Menu\n        keepMounted\n        open={contextMenu.mouseY !== null}\n        onClose={handleCloseContextMenu}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={\n          contextMenu.mouseY !== null && contextMenu.mouseX !== null\n            ? { top: contextMenu.mouseY, left: contextMenu.mouseX }\n            : undefined\n        }\n      >\n        <MenuItem onClick={handleOpenAddLinkDialog}>Add Link</MenuItem>\n        <MenuItem onClick={handleOpenEditDialog}>Edit node</MenuItem>\n        <MenuItem onClick={handleOpenDeleteDialog}>Delete node</MenuItem>\n      </Menu>\n      <Menu\n        keepMounted\n        open={linkContextMenu.mouseY !== null}\n        onClose={handleCloseLinkContextMenu}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={\n          linkContextMenu.mouseY !== null && linkContextMenu.mouseX !== null\n            ? { top: linkContextMenu.mouseY, left: linkContextMenu.mouseX }\n            : undefined\n        }\n      >\n        <MenuItem onClick={handleOpenDeleteLinkDialog}>Delete Link</MenuItem>\n      </Menu>\n    </Grid>\n  );\n};\n\nexport default Workspace;\n","import React from 'react';\n\nimport NavBar from 'components/NavBar';\nimport Workspace from 'routes/Workspace';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <NavBar />\n      <Workspace />\n    </div>\n  );\n}\n\nexport default App;\n","const formatNodes = (nodes = []) => nodes.map(node => ({ ...node, name: node.properties.name }));\n\nexport default formatNodes;\n","import { FETCH_GRAPH_DATA, CREATE_NODE, UPDATE_NODE, DELETE_NODE, ADD_LINK } from './constants';\nimport { formatNodes } from '../../helpers';\n\nconst initialState = {\n  fetching: {\n    selectedGraph: false,\n    createNode: false,\n    updateNode: false,\n    deleteNode: false,\n    addLink: false,\n  },\n  selectedGraph: null,\n  orphans: null,\n  displayedGraph: null,\n  nodesByIds: null,\n};\n\nconst workspaceReducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case `${FETCH_GRAPH_DATA}_PENDING`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, selectedGraph: true },\n      };\n    case `${FETCH_GRAPH_DATA}_FULFILLED`: {\n      const { orphans: rawOrphans, ...graphData } = action.payload;\n      const { nodes: rawNodes } = graphData;\n      const nodes = formatNodes(rawNodes);\n      const orphans = formatNodes(rawOrphans);\n      const selectedGraph = {\n        ...graphData,\n        nodes,\n        focusedNodeId: '',\n      };\n      const nodesByIds = [...nodes, ...orphans].reduce(\n        (acc, node) => ({ ...acc, [node.id]: { ...node } }),\n        {}\n      );\n      return {\n        ...state,\n        selectedGraph,\n        orphans,\n        nodesByIds,\n        fetching: { ...state.fetching, selectedGraph: false },\n      };\n    }\n    case `${FETCH_GRAPH_DATA}_REJECTED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, selectedGraph: false },\n      };\n    case `${CREATE_NODE}_PENDING`:\n      return {\n        ...state,\n        fetching: {\n          ...state.fetching,\n          createNode: true,\n        },\n      };\n    case `${CREATE_NODE}_FULFILLED`:\n      return {\n        ...state,\n        fetching: {\n          ...state.fetching,\n          createNode: false,\n        },\n      };\n    case `${CREATE_NODE}_REJECTED`:\n      return {\n        ...state,\n        fetching: {\n          ...state.fetching,\n          createNode: false,\n        },\n      };\n    case `${UPDATE_NODE}_PENDING`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, updateNode: true },\n      };\n    case `${UPDATE_NODE}_FULFILLED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, updateNode: false },\n      };\n    case `${UPDATE_NODE}_REJECTED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, updateNode: false },\n      };\n    case `${DELETE_NODE}_PENDING`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteNode: true },\n      };\n    case `${DELETE_NODE}_FULFILLED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteNode: false },\n      };\n    case `${DELETE_NODE}_REJECTED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, deleteNode: false },\n      };\n    case `${ADD_LINK}_PENDING`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, addLink: true },\n      };\n    case `${ADD_LINK}_FULFILLED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, addLink: false },\n      };\n    case `${ADD_LINK}_REJECTED`:\n      return {\n        ...state,\n        fetching: { ...state.fetching, addLink: false },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default workspaceReducer;\n","const appReducer = (state = {}, action = {}) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport default appReducer;\n","import { combineReducers } from 'redux';\n\nimport workspaceReducer from 'routes/Workspace/reducer';\nimport appReducer from './app/reducer';\n\nconst reducer = combineReducers({ appReducer, workspaceReducer });\n\nexport default reducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport reducer from './reducers';\n\nconst store = createStore(\n  reducer,\n  compose(\n    applyMiddleware(thunk),\n    // eslint-disable-next-line no-underscore-dangle\n    window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f\n  )\n);\n\nexport default store;\n","/* eslint-disable no-console */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      // eslint-disable-next-line no-param-reassign\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { App } from './routes/App';\nimport { store } from './store';\nimport * as serviceWorker from './serviceWorker';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}